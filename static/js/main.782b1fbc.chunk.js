(this.webpackJsonpnewstool=this.webpackJsonpnewstool||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(7),r=n(20),i=Object(r.b)({name:"locationSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},_location:null},reducers:{setLocations:function(e,t){var n=t.payload;e.listData=Object(a.a)({},n)}}}),c=i.reducer,o=i.actions},101:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(7),r=n(20),i=Object(r.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},nms:null},reducers:{setNmsDevices:function(e,t){var n=t.payload;e.listData=Object(a.a)({},n)}}}),c=i.reducer,o=i.actions},102:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(7),r=n(20),i=Object(r.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},nms:null},reducers:{setDevices:function(e,t){var n=t.payload;e.listData=Object(a.a)({},n)}}}),c=i.reducer,o=i.actions},19:function(e,t,n){"use strict";n.r(t);var a=n(204),r=n.n(a),i=n(59),c=n(50),o=n(54),s=n(44),l=r.a.create({baseURL:"/",headers:{"Content-type":"application/json"}});l.interceptors.request.use((function(e){var t=o.a.get("currentUser");return e.headers["Content-type"]="application/json",e.headers.Authorization="Bearer ".concat(null===t||void 0===t?void 0:t.accessToken),e})),l.interceptors.response.use((function(e){return{data:e.data,success:!0}}),(function(e){var t,n=null===e||void 0===e?void 0:e.response;switch(null===n||void 0===n?void 0:n.status){case 422:var a=null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:{},r=a.global||null;return r&&Object(s.b)({message:r,success:!1,hideTs:5e3,title:"Error!!"}),Promise.resolve({success:!1,errors:a,code:422});case 401:var o=n.request.responseURL;return i.a.dispatch(c.a.setUserState(null)),window.location="/login?redirect=".concat(encodeURIComponent(o)),Promise.resolve({success:!1,code:401});case 404:return Object(s.b)({message:"Page/Resource you are trying to access, do not exist.",success:!1,hideTs:5e3,title:"Error!!"}),Promise.resolve({success:!1,code:404});default:Object(s.b)({message:"Something went wrong.",success:!1,hideTs:5e3,title:"Error!!"})}return Promise.reject(e)})),t.default=l},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(81),r=n(59),i=function(e){var t=e.success,n=void 0===t||t,i=e.title,c=void 0===i?"Please note":i,o=e.message;e.hideTs;window.scrollTo(0,0),r.a.dispatch(a.a.setGlobalMessage({type:n?"success":"danger",title:c,message:o}))},c=function(){r.a.dispatch(a.a.setGlobalMessage({type:"",title:"",message:""}))}},50:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(20),r=n(54),i="currentUser",c=Object(a.b)({name:"user",initialState:{user:r.a.get(i)},reducers:{setUserState:function(e,t){var n=t.payload;n?r.a.store(i,n):r.a.delete(i),e.user=n}}}),o=c.actions,s=c.reducer},523:function(e,t,n){},526:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),c=n.n(i),o=n(4),s=n(9),l=n(67),u=n(19),d=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.post("/auth/login",{username:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.get("/api/v1/me");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.get("/auth/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,u.default.get("/api/v1/admin/users",{params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.delete("/api/v1/admin/users/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.post("/api/v1/admin/users/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.patch("/api/v1/admin/users/".concat(t,"/block"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.patch("/api/v1/admin/users/".concat(t,"/unblock"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={loginUser:d,getCurrentUser:b,logOutUser:p,getAllUsers:j,approveUser:m,rejectUser:f,blockUser:h,unblockUser:O},x=n(50),g=n(6),y=n.n(g),w=n(12),k=n(13),S=n(33),C=n(16),N=n(10),D=n(1),F=["triggerLogin","history"],P=N.a().shape({username:N.b().required(),password:N.b().required()}),R=function(e){var t=e.triggerLogin,n=void 0===t?Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))):t,r=e.history,i=(Object(k.a)(e,F),Object(C.d)()),c=Object(a.useState)({}),l=Object(w.a)(c,2),u=l[0],d=l[1];return Object(D.jsxs)("div",{className:"login-box",style:{border:"solid 1px #eee",paddingTop:50},children:[Object(D.jsx)("div",{className:"login-logo",children:Object(D.jsxs)("a",{href:"/",children:[Object(D.jsx)("b",{children:"TMCS"}),"login"]})}),Object(D.jsx)("div",{className:"login-box-body",children:Object(D.jsx)(g.Box,{type:"primary",title:"Login to continue",children:Object(D.jsx)(S.c,{initialValues:{username:"",password:""},onSubmit:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,r||i);case 2:null!==(a=e.sent)&&void 0!==a&&a.errors&&d(a.errors);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:P,initialErrors:u,children:function(e){var t=e.errors,n=e.touched;return Object(D.jsxs)(S.b,{children:[Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsxs)("div",{className:"mb-2",children:[Object(D.jsx)("label",{htmlFor:"email",className:"form-label",children:"username"}),Object(D.jsx)(S.a,{type:"text",autoComplete:"off",className:t.username&&n.username?"form-control shadow-none is-invalid":"form-control shadow-none",placholder:"Enter username",name:"username",id:"username"}),t.username&&n.username&&Object(D.jsx)("div",{className:"invalid-feedback",children:t.username})]}),Object(D.jsxs)("div",{className:"mb-2",children:[Object(D.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(D.jsx)(S.a,{type:"password",name:"password",autoComplete:"off",className:t.password&&n.password?"form-control shadow-none is-invalid":"form-control shadow-none",placholder:"Enter password",id:"password"}),t.password&&n.password&&Object(D.jsx)("div",{className:"invalid-feedback",children:t.password})]})]}),Object(D.jsx)("hr",{}),Object(D.jsx)("div",{className:"card-footer text-center",children:Object(D.jsx)("div",{className:"d-flex flex-row-reverse",children:Object(D.jsx)("button",{type:"submit",className:"btn btn-block rounded-0  btn-primary",children:"Submit"})})})]})}})})})]})},U=n(223),I=n(7),T=n(54),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=E(e);t=n?Object(I.a)(Object(I.a)({},r),t):t;var i={};Object.keys(t).forEach((function(e){"undefined"!==typeof t[e]&&"undefined"!==t[e]&&"null"!==t[e]&&null!==t[e]&&(i[e]=t[e])})),a?e.replace({pathname:e.location.pathname,search:new URLSearchParams(i).toString()}):e.push({pathname:e.location.pathname,search:new URLSearchParams(i).toString()})},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={},r=new URLSearchParams(e.location.search);return r.forEach((function(e,t){a[t]=e})),null!=t?a[t]||n:a},M="/admin/locations",A="/admin/ranks",L="/admin/branches",z="/admin/registrations",q="/admin/nms-devices",V="/admin/users",_="/admin/manage-devices",W="/admin/online-users",G="/admin/super-users",J="/admin/db-backups",Y="/admin/reports",K="/admin/settings",H=[{icon:"fa-tachometer-alt",title:"Dashboard",path:"/"},{icon:"fa-globe",title:"Manage Locations",path:M},{icon:"fa-sort-numeric-up",title:"Manage Ranks",path:A},{icon:"fa-building",title:"Manage Branches",path:L},{icon:"fa-tasks",title:"Registration Requests",path:z},{icon:"fa-user",title:"Manage Users",path:V},{icon:"fa-users",title:"Current Users",color:"green",path:W},{icon:"fa-laptop",title:"NMS",path:q},{icon:"fa-download",title:"Database Backups",path:J},{icon:"fa-tools",title:"Device Management",path:_},{icon:"fa-shield-virus",title:"Antivirus",path:"#antivirus"},{icon:"fa-users",title:"CTMS - User Accounts",path:G},{icon:"fa-chart-line",title:"Reports",path:Y},{icon:"fa-cog",title:"Configuration",path:K},{icon:"fa-phone-alt",title:"Contact us",path:"#contact us"}],Q="DISABLED",X="ACTIVE",Z={SUPERADMIN:"SUPERADMIN",ADMIN:"ADMIN",USER:"USER"},$=n(99),ee=n(213),te=n.n(ee),ne=n(214),ae=n.n(ne),re=n(215),ie=n.n(re),ce=n(216),oe=n.n(ce),se=n(217),le=n.n(se),ue=n(136),de=n.n(ue),be=function(e){var t=e.children,n=void 0===t?"":t,a=e.title,r=void 0===a?"Dialog":a,i=e.exists,c=void 0===i||i,o=e.show,s=void 0===o||o,l=e.showHeader,u=void 0===l||l,d=e.acceptText,b=void 0===d?null:d,p=e.cancelText,j=void 0===p?null:p,f=e.canDismiss,m=void 0===f||f,h=e.size,O=void 0===h?"xl":h,v=e.bodyPadding,x=void 0===v?2:v,y=e.zIndex,w=void 0===y?1050:y,k=e.cancelDisabled,S=void 0!==k&&k,C=e.successDisabled,N=void 0!==C&&C,F=e.onSuccess,P=void 0===F?function(){}:F,R=e.onCancel,U=void 0===R?function(){}:R,I=e.onDismiss,T=void 0===I?function(){}:I;return c&&Object(D.jsx)("div",{className:s?"modal fade in":"modal fade",tabIndex:"-1","aria-hidden":s,style:{display:s?"block":"none",zIndex:w,overflow:"auto"},children:Object(D.jsx)("div",{className:"modal-dialog modal-".concat(O),children:Object(D.jsxs)("div",{className:"modal-content",children:[u&&Object(D.jsx)("div",{className:"modal-header",children:Object(D.jsxs)("h4",{className:"modal-title",children:[r,m&&Object(D.jsx)(g.Button,{type:"button",className:"close","aria-label":"Close",onClick:T,icon:"fa-times"})]})}),Object(D.jsx)("div",{className:"modal-body p-".concat(x),children:n}),(j||b)&&Object(D.jsxs)("div",{className:"modal-footer",children:[j&&Object(D.jsx)("button",{disabled:S,className:"btn rounded-0  btn-default",onClick:U,children:j}),b&&Object(D.jsx)("button",{disabled:N,className:"btn rounded-0  btn-primary",onClick:P,children:b})]})]})})})},pe=n(218),je=n.n(pe),fe=n(219),me=n.n(fe),he=function(e){var t=e.url,n=void 0===t?null:t,a=e.width,r=void 0===a?120:a,i=e.height,c=void 0===i?120:i,o=e.border,s=void 0===o?1:o,l=e.borderColor,u=void 0===l?"grey":l,d=e.onClick,b=void 0===d?function(){}:d;return Object(D.jsx)("div",{onClick:b,style:{width:r,height:c,backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",border:"solid ".concat(s||1,"px ").concat(u),cursor:"pointer"},className:"img-thumbnail m-2"})},Oe=n(528),ve=Object(a.forwardRef)((function(e,t){var n=e.onClick,a=e.originalValue;return Object(D.jsxs)("div",{style:{cursor:"pointer"},className:"input-group mb-3",onClick:n,children:[Object(D.jsx)("div",{className:"ps-2 pe-2 form-control",children:a||"YYYY-MM-DD"}),Object(D.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:Object(D.jsx)("i",{className:"bi bi-calendar"})})]})})),xe=function(e){var t=e.field,n=void 0===t?{}:t,a=e.errors,r=void 0===a?{}:a,i=e.touched,c=void 0===i?{}:i,o=e.children,s=void 0===o?null:o,l=e.formErrors,u=void 0===l?{}:l,d=r[n.name]&&c[n.name]||r[n.name]&&"richtext"===n.type||u[n.name];return Object(D.jsx)(g.Col,{className:"mb-2 col-lg-".concat(n.cols," col-sm-12 col-md-6"),children:Object(D.jsxs)("div",{className:"form-group ".concat(d?"has-error":""),children:[Object(D.jsx)("label",{htmlFor:n.id,className:"form-label",children:n.label}),Object(D.jsxs)("div",{children:[s,d&&Object(D.jsx)("span",{className:"text-red",children:Object(D.jsx)("p",{children:r[n.name]||u[n.name]})})]})]})},n.id)},ge=function(e){var t=e.id,n=void 0===t?"":t,a=e.action,r=void 0===a?"":a,i=e.method,c=void 0===i?"POST":i,l=e.disabled,u=void 0!==l&&l,d=e.initialValues,b=void 0===d?{}:d,p=e.validationSchema,j=void 0===p?null:p,f=e.fields,m=void 0===f?[]:f,h=e.onSubmit,O=void 0===h?function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}():h,v=e.editMode,x=void 0!==v&&v,y=e.entitySingle,w=void 0===y?"record":y,k=e.submitTitle,C=void 0===k?null:k,N=e.formErrors,F=void 0===N?{}:N;return!b||m.length<1?Object(D.jsx)(D.Fragment,{}):Object(D.jsx)(g.Row,{children:Object(D.jsxs)(g.Col,{md:12,children:[Object(D.jsx)(S.c,{initialValues:b,enableReinitialize:!0,onSubmit:function(e,t){var n={};Object.keys(b).forEach((function(t){(e[t]!==b[t]&&void 0!==e[t]||"id"==="".concat(t))&&(n[t]=e[t])})),O(n,t)},validationSchema:j,children:function(e){var t=e.errors,a=e.touched,i=e.values,o=e.setFieldValue;return Object(D.jsxs)(S.b,{action:r,id:n||Date.now(),method:c,disabled:u,children:[Object(D.jsx)(g.Row,{children:m.map((function(e){switch(e.type){case"fieldset":return Object(D.jsx)("h3",{className:"display-6 fs-6 pt-2 pb-2 fw-bold bg-secondary text-white",children:null===e||void 0===e?void 0:e.title});case"select":var n=function(e){if(Array.isArray(e))return e;var t=[];return Object.keys((function(n){t.push({key:n,value:e[n]})})),t}((null===e||void 0===e?void 0:e.options)||[]);return Object(D.jsx)(xe,{field:e,errors:t,touched:a,formErrors:F,children:Object(D.jsxs)(S.a,{as:"select",className:t[e.name]&&a[e.name]?"form-select rounded-0 is-invalid shadow-none form-control":"form-select form-control",placeholder:e.placeholder||e.label,name:e.name,id:e.id,children:[Object(D.jsx)("option",{children:e.placeholder||e.label}),n.map((function(e){return Object(D.jsx)("option",{value:e.key,children:e.value},"".concat(e.key,"-").concat(w))}))]})},"field-".concat(e.id,"-").concat(w));case"textarea":return Object(D.jsx)(xe,{field:e,errors:t,touched:a,formErrors:F,children:Object(D.jsx)(S.a,{as:"textarea",className:t[e.name]&&a[e.name]?"form-control shadow-none is-invalid":"form-control shadow-none",placeholder:e.placeholder||e.label,name:e.name,id:e.id})},"field-".concat(e.id));case"checkbox_group":var r=function(t){var n=new Set(i[e.name].length>0?i[e.name]:[]);t.target.checked?n.add(parseInt(t.target.value)):n.delete(parseInt(t.target.value)),o(e.name,Array.from(n))};return Object(D.jsx)(xe,{field:e,errors:t,touched:a,formErrors:F,children:Object(D.jsx)("div",{className:"p-3 ps-3",style:{height:"".concat(e.height||150,"px"),backgroundColor:"",border:"solid 1px #eee",overflow:"auto"},children:e.options.map((function(n){return Object(D.jsxs)("div",{className:"form-check",children:[Object(D.jsx)("input",{type:"checkbox",className:t[e.name]&&a[e.name]?"form-check-input shadow-none is-invalid":"form-check-input shadow-none",name:"".concat(e.name),checked:i[e.name].includes(n.key),id:"".concat(e.id,"-").concat(n.key),value:n.key,onChange:r}),Object(D.jsx)("label",{className:"form-check-label",htmlFor:"".concat(e.id,"-").concat(n.key),children:n.value})]},n.key)}))})},"field-".concat(e.id));case"richtext":return Object(D.jsx)(xe,{field:e,errors:t,touched:a,formErrors:F,children:Object(D.jsx)(je.a,{theme:"snow",value:i[e.name],onChange:function(t){return o(e.name,t)}})},"field-".concat(e.id));case"date":return Object(D.jsx)(xe,{field:e,errors:t,touched:a,formErrors:F,children:Object(D.jsx)(me.a,{name:e.name,className:"d-flex",onChange:function(t){return o(e.name,Object(Oe.default)(t,"yyyy-MM-dd"))},customInput:Object(D.jsx)(ve,{originalValue:i[e.name]})})},"field-".concat(e.id));case"upload":return Array.isArray(i[e.name])||(i[e.name]=[{id:0,url:i[e.name]||"/default_logo.png"}]),Object(D.jsxs)(xe,{field:e,errors:t,touched:a,formErrors:F,children:[Object(D.jsx)("input",{onChange:function(e){console.log(e)},id:"fileinputRef",type:"file",name:"file",style:{opacity:0,position:"absolute",left:-9999,top:-100}}),Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-start",children:[0===i[e.name].length&&Object(D.jsx)(he,{url:""},"no-selection"),i[e.name].map((function(e){return Object(D.jsx)(he,{url:(null===e||void 0===e?void 0:e.url)||""},e.id)})),Object(D.jsx)(g.Button,{onClick:function(){document.getElementById("fileinputRef").click()},icon:"fa-edit"})]})]},"field-".concat(e.id));case"hidden":return Object(D.jsx)(S.a,{autoComplete:"off",name:e.name,type:"hidden",id:e.id},"field-".concat(e.id));default:return Object(D.jsx)(xe,{field:e,errors:t,touched:a,formErrors:F,children:Object(D.jsx)(S.a,{autoComplete:"off",className:t[e.name]&&a[e.name]?"form-control rounded-0 shadow-none is-invalid":"form-control rounded-0 shadow-none",placeholder:e.placeholder||e.label,name:e.name,type:e.type,id:e.id})},"field-".concat(e.id))}}))}),Object(D.jsx)("hr",{}),Object(D.jsx)("div",{className:"d-flex flex-row-reverse text-right",children:Object(D.jsxs)("button",{disabled:u,onClick:function(){return window.scrollTo(0,0)},type:"success",className:"btn rounded-0  btn-primary",children:[C&&Object(D.jsx)("span",{children:C}),!C&&Object(D.jsxs)("span",{children:[x?"Update":"Create"," ",w]})]})})]})}}),"\xa0\u0330      "]})})},ye=n(44),we=["modalSize","keyField","entitySingle","entityPlural","columns","hideIdOnEdit","data","remote","defaultSorted","showTotal","beforeSave","onTableChange","onDataUpdated","onDelete","canAdd","canDelete","canEdit","rowActionButtons","globalActionButtons","formOptions","resource","onFormShow","actionColumnWidth"];de.a.propTypes=void 0;var ke="edit",Se=function(e){var t=e.modalSize,n=void 0===t?"xl":t,i=e.keyField,c=void 0===i?"id":i,l=e.entitySingle,d=void 0===l?"record":l,b=e.entityPlural,p=void 0===b?"records":b,j=e.columns,f=void 0===j?[]:j,m=e.hideIdOnEdit,h=void 0!==m&&m,O=e.data,v=void 0===O?{results:[],currentPage:1,totalResults:0,limit:100,totalPages:1}:O,x=e.remote,y=void 0===x?{sort:!0,filter:!0,pagination:!0}:x,S=e.defaultSorted,C=void 0===S?[{dataField:"id",order:"asc"}]:S,F=e.showTotal,P=void 0===F||F,R=e.beforeSave,U=void 0===R?function(e){return e}:R,T=e.onTableChange,M=void 0===T?function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():T,A=e.onDataUpdated,L=void 0===A?function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():A,z=e.onDelete,q=void 0===z?function(e){}:z,V=e.canAdd,_=void 0===V||V,W=e.canDelete,G=void 0===W||W,J=e.canEdit,Y=void 0===J||J,K=e.rowActionButtons,H=void 0===K?[]:K,Q=e.globalActionButtons,X=void 0===Q?[]:Q,Z=e.formOptions,$=void 0===Z?{fields:[],validationSchema:null,onSuccess:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}:Z,ee=e.resource,ne=void 0===ee?null:ee,re=e.onFormShow,ce=void 0===re?function(e,t){}:re,se=e.actionColumnWidth,ue=void 0===se?200:se,de=Object(k.a)(e,we),pe=Object(a.useState)({}),je=Object(w.a)(pe,2),fe=je[0],me=je[1],he=Object(a.useState)(null),Oe=Object(w.a)(he,2),ve=Oe[0],xe=Oe[1],Se=Object(a.useState)(!1),Ce=Object(w.a)(Se,2),Ne=Ce[0],De=Ce[1],Fe=Object(a.useState)([]),Pe=Object(w.a)(Fe,2),Re=Pe[0],Ue=Pe[1],Ie=Object(a.useState)(!1),Te=Object(w.a)(Ie,2),Be=Te[0],Ee=Te[1],Me=Object(a.useState)(v),Ae=Object(w.a)(Me,2),Le=Ae[0],ze=Ae[1],qe=Object(a.useCallback)(Object(s.a)(Object(o.a)().mark((function e(){var t,n,a,r,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me({}),!ne){e.next=7;break}return t=E(de.history),e.next=5,u.default.get("".concat(ne),{params:t});case 5:null!==(n=e.sent)&&void 0!==n&&n.success?ze({results:(null===(a=n.data)||void 0===a?void 0:a.results)||[],currentPage:(null===(r=n.data)||void 0===r?void 0:r.currentPage)||1,totalResults:n.data.totalResults||0,limit:(null===(i=n.data)||void 0===i?void 0:i.limit)||100,totalPages:(null===(c=n.data)||void 0===c?void 0:c.totalPages)||1}):ze(Object(I.a)(Object(I.a)({},v),{},{results:[],totalResults:0,limit:100}));case 7:case"end":return e.stop()}}),e)}))),[ne,v,de.history]),Ve=Object(a.useMemo)((function(){var e=f.filter((function(e){return"_actions"!==e.dataField}));return Y||G||H.length>0?(e.push({dataField:"_actions",isDummyField:!0,style:{width:ue||200},text:"Actions",formatter:function(e,t){return Object(D.jsxs)(g.ButtonGroup,{children:[H.map((function(e){if(e.canShow=e.canShow?e.canShow:function(){return!0},e.canShow&&e.canShow(t))return Object(D.jsx)(g.Button,{className:"mr-2",type:(null===e||void 0===e?void 0:e.type)||"primary",icon:(null===e||void 0===e?void 0:e.icon)||"gear",text:e.text,onClick:Object(s.a)(Object(o.a)().mark((function n(){return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.onClick(t.id,t);case 2:qe();case 3:case"end":return n.stop()}}),n)})))},"action-".concat(t.id,"-").concat(e.text))})),Y&&Object(D.jsx)(g.Button,{className:"mr-2",type:"primary",text:"Edit",icon:"fa-edit",onClick:function(){B(de.history,{id:t.id,mode:ke},!0),xe(t),De(!0),me({})}}),G&&Object(D.jsx)(g.Button,{className:"mr-2",type:"danger",onClick:Object(s.a)(Object(o.a)().mark((function e(){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ne){e.next=7;break}return e.next=3,u.default.delete("".concat(ne,"/").concat(t.id));case 3:null!==(n=e.sent)&&void 0!==n&&n.success?Object(ye.b)({success:!0,message:"".concat(d," successfully deleted.")}):me(null!==(a=null===n||void 0===n?void 0:n.errors)&&void 0!==a?a:{}),e.next=9;break;case 7:return e.next=9,q(t.id);case 9:qe();case 10:case"end":return e.stop()}}),e)}))),text:"Delete",icon:"fa-trash"})]})}}),e):e}),[f,G,_,q,H,de.history]),_e=(Object(a.useMemo)((function(){return $.validationSchema||N.a().shape({})}),[$.validationSchema]),Object(a.useMemo)((function(){return $.fields}),[$.fields])),We=Object(a.useMemo)((function(){var e={};return _e.forEach((function(t){e[t.recordKey||t.name]=ve?ve[t.recordKey]||ve[t.name]||t.default||"":t.default||""})),e.id=ve?ve.id:null,e}),[ve,_e]),Ge=function(){var e=E(de.history),t=e.mode||"",n=e.id||null,a="add"===t||t===ke,r=(Le.results||[]).find((function(e){return"".concat(e.id)===n}));xe(r),De(a)};return Object(a.useEffect)((function(){qe(),Ge();var e=de.history.listen((function(){"POP"===(arguments.length<=1?void 0:arguments[1])&&qe()}));return e}),[]),Object(a.useEffect)((function(){Ge(),L(Le)}),[Ne,Le]),Object(a.useEffect)((function(){ce(ve,E(de.history,"mode"))}),[ve,de.history]),Object(D.jsxs)(r.a.Fragment,{children:[(_||Y)&&Object(D.jsx)(be,{size:n,show:Ne,showHeader:!0,title:"".concat(ve?"Editing ".concat(d," ").concat(h?"":"#".concat(ve.id)):"Adding ".concat(d)),onDismiss:function(){De(!1),B(de.history,{mode:null,id:null},!0,!0)},children:Object(D.jsx)(ge,{entityPlural:p,entitySingle:d,formErrors:fe,fields:_e,initialValues:We,editMode:!!ve,onSubmit:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var a,r,i,c,s,l,b;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.resetForm,window.scrollTo(0,0),t=U(t),!ne){e.next=16;break}if(null===(c=t)||void 0===c||!c.id){e.next=10;break}return e.next=7,u.default.put("".concat(ne,"/").concat(t.id),t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,u.default.post(ne,t);case 12:e.t0=e.sent;case 13:i=e.t0,e.next=19;break;case 16:return e.next=18,$.onSuccess(t);case 18:i=e.sent;case 19:null!==(a=i)&&void 0!==a&&a.success?(r(),xe(null),De(!1),B(de.history,{mode:null,id:null},!0,!0),M(E(de.history)),qe(),Object(ye.b)({success:!0,message:"".concat(d," successfully ").concat(null!==(s=t)&&void 0!==s&&s.id?"updated":"created")})):me(null!==(l=null===(b=i)||void 0===b?void 0:b.errors)&&void 0!==l?l:{});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}),Object(D.jsx)(te.a,{keyField:c,data:Le.results||[],columns:Ve,children:function(e){return Object(D.jsxs)("div",{children:[Object(D.jsx)(g.Row,{className:"text-right",children:Object(D.jsxs)(g.Col,{md:12,children:[Object(D.jsx)(g.Button,{onClick:Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!0),qe(),e.next=4,M(E(de.history));case 4:Ee(!1);case 5:case"end":return e.stop()}}),e)}))),className:"mr-2",type:"primary",disabled:Be,text:Be?"Loading...":"Refresh",icon:"fa-redo"}),_&&Object(D.jsx)(g.Button,{className:"mr-2",onClick:function(){B(de.history,{mode:"add",id:void 0},!0),De(!0),xe(null)},type:"success",text:"Add ".concat(d),icon:"fa-plus-circle"}),X.map((function(e){return Object(D.jsx)(g.Button,{className:"mr-2",type:e.type,icon:e.icon,text:e.text,onClick:Object(s.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onClick(Re);case 2:qe();case 3:case"end":return t.stop()}}),t)})))})}))]})}),Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{children:Object(D.jsx)("hr",{})})}),Object(D.jsx)(ae.a,Object(I.a)(Object(I.a)({},e.baseProps),{},{remote:y,defaultSorted:C,pagination:Le.totalPages>1?oe()({page:Le.currentPage||1,sizePerPage:Le.limit||100,totalSize:Le.totalResults||Le.results.length||0,sizePerPageList:[100,200,500],paginationSize:Le.totalResults||Le.results.length||0,showTotal:P}):null,loading:Be,filter:ie()(),onTableChange:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={sortOrder:n.sortOrder,sortBy:n.sortField,page:n.page,limit:n.sizePerPage},B(de.history,a),qe(),Ee(!0),e.next=6,M(a);case 6:Ee(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),striped:!0,selectRow:X.length||Y||G?{mode:"checkbox",bgColor:"#eee",selectColumnStyle:function(){return{width:20}},onSelectAll:function(e){var t=[];e&&(v.results||[]).forEach((function(e){t.push(t)})),Ue(t)},onSelect:function(e,t){var n=Re.filter((function(t){return e.id!==t}));t&&n.push(e.id),Ue(n)}}:{mode:"ROW_SELECT_DISABLED",hideSelectColumn:!0},overlay:le()({spinner:!0,styles:{overlay:function(e){return Object(I.a)(Object(I.a)({},e),{},{background:"rgba(0, 0, 0, 0.5)",position:"absolute"})}}}),noDataIndication:function(){return Object(D.jsxs)("h5",{className:"text-center",children:["Sorry no ",p," currently availble"]})}}))]})}})]})},Ce=["title","description"],Ne=function(e){var t=e.title,n=void 0===t?"Branches":t,a=e.description,r=void 0===a?"here you can manage branches":a,i=Object(k.a)(e,Ce);return Object(D.jsx)(g.Content,{title:n,subTitle:r,browserTitle:"Manage Branch",children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying branches",icon:"fa-building",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({},i),{},{entityPlural:"Branches",entitySingle:"Branch",resource:"/api/v1/admin/branches",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.a.setBranches(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),defaultSorted:[{dataField:"id",order:"asc"}],columns:[{dataField:"id",text:"Branch ID",hidden:!0},{dataField:"title",text:"Title",sort:!0},{dataField:"description",text:"Description",sort:!0}],formOptions:{fields:[{id:"title",name:"title",label:"Title",placeholder:"Enter Title",type:"text",cols:12},{id:"description",name:"description",label:"Branch Description",type:"text",cols:12}],validationSchema:N.a().shape({title:N.b().required(),description:N.b()})}}))})})})})},De=n(24),Fe=n(222),Pe=n(100),Re=function(e){var t=Object.assign({},(Object(Fe.a)(e),e)),n=" \xbb ",r=Object(a.useState)(0),i=Object(w.a)(r,2),c=i[0],l=i[1],u=Object(a.useState)([]),d=Object(w.a)(u,2),b=d[0],p=d[1],j=Object(a.useMemo)((function(){return c>1?[]:[{icon:"fa-link",type:"primary",text:"Sublocations",onClick:function(e,n){var a=c+1,r=[].concat(Object(De.a)(b),[n.title]);p(r),l(a),B(t.history,{level:a,locationId:e,segments:r.join(",")})}}]}),[c,b,t.history]);return Object(a.useEffect)((function(){var e=function(){var e=E(t.history),n=(e.segments||"").split(",").filter((function(e){return!!e}));l(parseInt(e.level||0)),p(n)};return e(),t.history.listen(e)}),[t.history]),Object(D.jsx)(g.Content,{title:["Manage Locations"].concat(b).join(n),subTitle:["here you can manage locations"].concat(b).join(n),browserTitle:b.join(n),children:Object(D.jsx)(g.Box,{type:"primary",title:["Displaying locations"].concat(b).join(n),icon:"fa-globe",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({},t),{},{actionColumnWidth:320,entityPlural:["Locations"].concat(b).join(n),entitySingle:["Location"].concat(b).join(n),resource:"/api/v1/admin/locations",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pe.a.setLocations(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),columns:[{dataField:"id",text:"Location ID",hidden:!0},{dataField:"title",text:"Title",sort:!0},{dataField:"email",text:"Email",sort:!0}],rowActionButtons:j,beforeSave:function(e){var n=E(t.history);return e.locationId=n.locationId||null,e},formOptions:{fields:[{id:"title",name:"title",label:"Title",placeholder:"Enter Title",type:"text",cols:12},{id:"email",name:"email",label:"Location Email",type:"text",cols:12}],validationSchema:N.a().shape({title:N.b().required(),email:N.b().email(),description:N.b()})}}))})})})})},Ue=n(98),Ie=["title","description"],Te=function(e){var t=e.title,n=void 0===t?"Ranks":t,a=e.description,r=void 0===a?"here you can manage ranks":a,i=Object(k.a)(e,Ie);return Object(D.jsx)(g.Content,{title:n,subTitle:r,browserTitle:"Manage Rank",children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying ranks",icon:"fa-sort-numeric-up",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({},i),{},{entityPlural:"Ranks",entitySingle:"Rank",defaultSorted:[{dataField:"id",order:"asc"}],resource:"/api/v1/admin/ranks",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue.a.setRanks(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),columns:[{dataField:"id",text:"Rank ID",hidden:!0},{dataField:"title",text:"Title",sort:!0},{dataField:"description",text:"Description",sort:!0}],formOptions:{fields:[{id:"title",name:"title",label:"Title",placeholder:"Enter Title",type:"text",cols:12},{id:"description",name:"description",label:"Rank Description",type:"text",cols:12}],validationSchema:N.a().shape({title:N.b().required(),description:N.b()})}}))})})})})},Be=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.delete("/api/v1/admin/registrations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.post("/api/v1/admin/registrations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me={rejectRegistration:Be,approveRegistration:Ee},Ae=["title","description"],Le="PENDING",ze=function(e){var t=e.title,n=void 0===t?"Registrations":t,a=e.description,r=void 0===a?"here you can manage registrations":a,i=Object(k.a)(e,Ae);return Object(D.jsx)(g.Content,{title:n,subTitle:r,browserTitle:"Manage Registration",children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying registrations",icon:"fa-user",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({},i),{},{actionColumnWidth:300,entitySingle:"Registration",entityPlural:"Registrations",resource:"/api/v1/admin/registrations",rowActionButtons:[{text:"Approve",icon:"fa-check",type:"success",canShow:function(e){return e.status===Le},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.approveRegistration(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{text:"Reject",icon:"fa-times",type:"danger",canShow:function(e){return e.status===Le},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.rejectRegistration(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],canAdd:!1,canEdit:!1,canDelete:!1,columns:[{dataField:"id",text:"Registration ID",hidden:!0},{dataField:"userName",text:"Username",sort:!0},{dataField:"status",text:"Status",sort:!0},{dataField:"firstName",text:"First Name",sort:!0},{dataField:"middlename",text:"Middle Name",sort:!0},{dataField:"lastName",text:"Last Name",sort:!0},{dataField:"ip",text:"IP"},{dataField:"port",text:"Port"}]}))})})})})},qe=n(19).default,Ve=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/api/v1/locations");case 2:return t=e.sent,n=null!==t&&void 0!==t&&t.success?t.data:[],e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/api/v1/branches");case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t&&t.success?t.data:[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/api/v1/ranks");case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t&&t.success?t.data:[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.post("/api/v1/admin/db-backups");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/api/v1/admin/dashboard");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye={getLocationList:Ve,getBranchesList:_e,getRanksList:We,createDatabaseBackup:Ge,getDashboardSummary:Je},Ke=["title","description"],He=function(e){var t=e.title,n=void 0===t?"Users":t,r=e.description,i=void 0===r?"here you can manage users":r,c=Object(k.a)(e,Ke),l=Object(a.useState)([]),u=Object(w.a)(l,2),d=u[0],b=u[1],p=Object(a.useState)([]),j=Object(w.a)(p,2),f=j[0],m=j[1],h=Object(a.useState)([]),O=Object(w.a)(h,2),x=O[0],y=O[1],S=Object(a.useState)(null),C=Object(w.a)(S,2),F=C[0],P=C[1],R=Object(a.useState)(null),U=Object(w.a)(R,2),T=U[0],B=U[1];console.log(T),Object(a.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,Ye.getLocationList();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=m,e.next=8,Ye.getBranchesList();case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=y,e.next=13,Ye.getRanksList();case 13:e.t5=e.sent,(0,e.t4)(e.t5);case 15:case"end":return e.stop()}}),e)})))()}),[]);var E=Object(a.useMemo)((function(){var e=[{id:"username",name:"username",label:"Username *",placeholder:"Enter Username",type:"text",cols:6},{id:"password",name:"password",label:"Password *",type:"password",cols:6},{id:"firstName",name:"firstName",label:"First Name *",type:"text",cols:4},{id:"middleName",name:"middleName",label:"Middle Name",type:"text",cols:4},{id:"lastName",name:"lastName",label:"Last Name",type:"text",cols:4},{id:"locationId",name:"locationId",label:"Location *",type:"select",options:d.map((function(e){return{key:e.id,value:e.title}})),cols:4},{id:"branchId",name:"branchId",label:"Branch *",type:"select",options:f.map((function(e){return{key:e.id,value:e.title}})),cols:4},{id:"rankId",name:"rankId",label:"Rank *",type:"select",options:x.map((function(e){return{key:e.id,value:e.title}})),cols:4},{id:"ip",name:"ip",label:"IP",type:"text",cols:10},{id:"port",name:"port",label:"Port",type:"text",cols:2},{id:"addressLine1",name:"addressLine1",label:"Address Line 1",type:"textarea",cols:6},{id:"addressLine2",name:"addressLine2",label:"Address Line 2",type:"textarea",cols:6}];return F&&null!==F&&void 0!==F&&F.id,e}),[d,x,f,F]);return Object(D.jsx)(g.Content,{title:n,subTitle:i,browserTitle:"Manage Users",children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying users",icon:"fa-user",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({modalSize:"lg",actionColumnWidth:300},c),{},{rowActionButtons:[{text:"Block",icon:"fa-times",type:"danger",canShow:function(e){return e.status===X},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.blockUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{text:"Unblock",icon:"fa-check",type:"success",canShow:function(e){return e.status===Q},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.unblockUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],entitySingle:"User",entityPlural:"Users",resource:"/api/v1/admin/users",onFormShow:function(e,t){P(e),B(t)},formOptions:{fields:E,validationSchema:N.a().shape({username:N.b().required(),firstName:N.b().required(),password:N.b().required(),locationId:N.b().required(),branchId:N.b().required(),rankId:N.b().required()})},columns:[{dataField:"id",text:"User ID",hidden:!0},{dataField:"username",text:"Username",sort:!0},{dataField:"branchId",text:"Branch",sort:!0,formatter:function(e,t){var n;return(null===(n=f.find((function(e){return"".concat(e.id)==="".concat(t.branchId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"rankId",text:"Rank",sort:!0,formatter:function(e,t){var n;return(null===(n=x.find((function(e){return"".concat(e.id)==="".concat(t.rankId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"locationId",text:"Location",sort:!0,formatter:function(e,t){var n;return(null===(n=d.find((function(e){return"".concat(e.id)==="".concat(t.locationId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"status",text:"Status",sort:!0},{dataField:"firstName",text:"Name",sort:!0,formatter:function(e,t){return[t.firstName,t.middleName,t.lastName].filter((function(e){return!!e})).join(" ")}},{dataField:"ip",text:"IP:Port",formatter:function(e,t){return[t.ip,t.port].filter((function(e){return!!e})).join(":")}}]}))})})})})},Qe=["title","description"],Xe=function(e){var t=e.title,n=void 0===t?"System Overview":t,r=e.description,i=(Object(k.a)(e,Qe),{totalUsers:{text:"Total Users",icon:"fa-users",to:V,color:"orange"},totalOnlineUsers:{text:"Total Online Users",icon:"fa-users",to:W,color:"teal"},totalSuperUsers:{text:"Total Super Users",icon:"fa-users",to:G,color:"purple"},totalNmsDevices:{text:"Total Nms Monitored Devices",icon:"fa-laptop",to:q,color:"purple"},totalDevices:{text:"Total devices in directory",icon:"fa-laptop",to:_,color:"orange"},totalPendingRequests:{text:"Pending registration requests",icon:"fa-tasks",to:z,color:"teal"}}),c=Object(a.useState)({totalUsers:0,totalOnlineUsers:0,totalSuperUsers:0,totalNmsDevices:0,totalDevices:0,totalPendingRequests:0}),l=Object(w.a)(c,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.getDashboardSummary();case 2:(null===(t=e.sent)||void 0===t?void 0:t.data)&&d(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(D.jsx)(g.Content,{title:[n],subTitle:r,browserTitle:n,children:Object(D.jsx)(g.Row,{children:Object.keys(i).map((function(e){var t=i[e];return Object(D.jsx)(g.Col,{md:4,children:Object(D.jsx)(g.Box,{color:t.color,type:"success",icon:t.icon,children:Object(D.jsx)(g.Infobox2,Object(I.a)({title:u[e]||0},t))})},e)}))})})},Ze=Object(l.b)((function(e){var t;return{globalMessage:(null===(t=e.globalState)||void 0===t?void 0:t.globalMessage)||{}}}),null)((function(e){var t=e.globalMessage,n=void 0===t?{}:t;return n&&n.message?Object(D.jsx)(be,{canDismiss:!0,title:"",size:"xl",show:n.message,zIndex:9999,onDismiss:function(){Object(ye.a)()},children:Object(D.jsx)(g.Callout,{className:"rounded-0",title:n.title,type:n.type,children:n.message})}):Object(D.jsx)(r.a.Fragment,{})})),$e=n(101),et=["title","description"],tt=function(e){var t=e.title,n=void 0===t?"Manage NMS Devices":t,a=e.description,r=void 0===a?"here you can manage devices":a,i=Object(k.a)(e,et);return Object(D.jsx)(g.Content,{title:n,subTitle:r,browserTitle:n,children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying devices",icon:"fa-laptop",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({},i),{},{entityPlural:"Devices",entitySingle:"Device",resource:"/api/v1/admin/nms-devices",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$e.a.setNmsDevices(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),columns:[{dataField:"id",text:"Device ID",hidden:!0},{dataField:"name",text:"Name",sort:!0},{dataField:"ip",text:"IP",sort:!0},{dataField:"port",text:"Port",sort:!0}],formOptions:{fields:[{id:"ip",name:"ip",label:"IP",type:"text",cols:10},{id:"port",name:"port",label:"Port",type:"text",cols:2},{id:"name",name:"name",label:"Device Name",type:"text",cols:12}],validationSchema:N.a().shape({ip:N.b().required(),name:N.b().required()})}}))})})})})},nt=n(102),at=["title","description"],rt=function(e){var t=e.title,n=void 0===t?"Manage Devices":t,r=e.description,i=void 0===r?"here you can manage devices directory":r,c=Object(k.a)(e,at),l=Object(a.useState)([]),u=Object(w.a)(l,2),d=u[0],b=u[1];return Object(a.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,Ye.getLocationList();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(D.jsx)(g.Content,{title:n,subTitle:i,browserTitle:n,children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying devices",icon:"fa-tools",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({},c),{},{entityPlural:"Devices",entitySingle:"Device",resource:"/api/v1/admin/devices",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nt.a.setDevices(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),columns:[{dataField:"id",text:"Device ID",hidden:!0},{dataField:"name",text:"Name",sort:!0},{dataField:"locationId",text:"Location",sort:!0,formatter:function(e,t){var n;return console.log(t),(null===(n=d.find((function(e){return"".concat(e.id)==="".concat(t.locationId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"ip",text:"IP",sort:!0},{dataField:"port",text:"Port",sort:!0}],formOptions:{fields:[{id:"ip",name:"ip",label:"IP",type:"text",cols:10},{id:"port",name:"port",label:"Port",type:"text",cols:2},{id:"name",name:"name",label:"Device Name",type:"text",cols:12},{id:"locationId",name:"locationId",label:"Location *",type:"select",options:d.map((function(e){return{key:e.id,value:e.title}})),cols:12}],validationSchema:N.a().shape({ip:N.b().required(),name:N.b().required()})}}))})})})})},it=["title","description"],ct=function(e){var t=e.title,n=void 0===t?"Super Users":t,r=e.description,i=void 0===r?"here you can manage super users":r,c=Object(k.a)(e,it),l=Object(a.useMemo)((function(){return[{id:"username",name:"username",label:"Username *",placeholder:"Enter Username",type:"text",cols:4},{id:"password",name:"password",label:"Password *",type:"password",cols:4},{id:"role",name:"role",label:"Role *",type:"select",cols:4,options:[Z.ADMIN,Z.SUPERADMIN].map((function(e){return{key:e,value:e}}))},{id:"firstName",name:"firstName",label:"First Name *",type:"text",cols:4},{id:"middleName",name:"middleName",label:"Middle Name",type:"text",cols:4},{id:"lastName",name:"lastName",label:"Last Name",type:"text",cols:4}]}),[]);return Object(D.jsx)(g.Content,{title:n,subTitle:i,browserTitle:"Manage CTMS Users",children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying CTMS users",icon:"fa-users",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({modalSize:"lg",actionColumnWidth:200},c),{},{canDelete:!1,rowActionButtons:[{text:"Block",icon:"fa-times",type:"danger",canShow:function(e){return e.status===X},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.blockUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{text:"Unblock",icon:"fa-check",type:"success",canShow:function(e){return e.status===Q},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.unblockUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],entitySingle:"Super User",entityPlural:"Super Users",resource:"/api/v1/admin/superusers",formOptions:{fields:l},columns:[{dataField:"id",text:"User ID",hidden:!0},{dataField:"username",text:"Username",sort:!0},{dataField:"role",text:"Role",sort:!0},{dataField:"status",text:"Status",sort:!0},{dataField:"firstName",text:"Name",sort:!0,formatter:function(e,t){return[t.firstName,t.middleName,t.lastName].filter((function(e){return!!e})).join(" ")}}]}))})})})})},ot=n(519),st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"E do MMM, yyyy hh:mm a";return Object(Oe.default)(Object(ot.default)(e),t)},lt=["title","description"],ut=function(e){var t=e.title,n=void 0===t?"Current Users":t,a=e.description,r=void 0===a?"here you can see currently active users":a,i=Object(k.a)(e,lt);return Object(D.jsx)(g.Content,{title:n,subTitle:r,browserTitle:"Current Users",children:Object(D.jsx)(g.Box,{type:"success",title:"Displaying current users",icon:"fa-users",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({modalSize:"lg",canAdd:!1,canEdit:!1,canDelete:!1},i),{},{entitySingle:"User",entityPlural:"Users",resource:"/api/v1/admin/users/online",columns:[{dataField:"username",text:"Username",sort:!0},{dataField:"status",text:"Status",sort:!0},{dataField:"firstName",text:"Name",sort:!0,formatter:function(e,t){return[t.firstName,t.middleName,t.lastName].filter((function(e){return!!e})).join(" ")}},{dataField:"ip",text:"IP:Port",formatter:function(e,t){return[t.ip,t.port].filter((function(e){return!!e})).join(":")}},{dataField:"lastVisited",text:"Last Visited",formatter:function(e,t){return st(t.lastVisited)}}]}))})})})})},dt=["title","description"],bt=function(e){var t=e.title,n=void 0===t?"Database backups":t,a=e.description,r=void 0===a?"here you can see currently active users":a,i=Object(k.a)(e,dt);return Object(D.jsx)(g.Content,{title:n,subTitle:r,browserTitle:"Database backups",children:Object(D.jsx)(g.Box,{type:"success",title:"Displaying latest 100 backup files",icon:"fa-download",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({modalSize:"lg",canAdd:!1,canEdit:!1,canDelete:!1},i),{},{entitySingle:"Backup",entityPlural:"Backups",resource:"/api/v1/admin/db-backups",globalActionButtons:[{text:"Create Backup",icon:"fa-plus",type:"success",onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.createDatabaseBackup();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],columns:[{dataField:"filename",text:"Backup file name"},{dataField:"size",text:"Size",formatter:function(e,t){return(n=t.size)<1024?"".concat(n," bytes"):n>1024&&n<1048576?"".concat((n/1024).toFixed(3)," KB"):n>1048576&&n<1073741824?"".concat((n/1048576).toFixed(3)," MB"):"".concat((n/1073741824).toFixed(3)," GB");var n}},{dataField:"createdOn",text:"Created",formatter:function(e,t){return st(t.createdOn)}}]}))})})})})},pt=["title","description"],jt=function(e){var t=e.title,n=void 0===t?"Reports":t,a=e.description,r=void 0===a?"here you can see various activity by users":a,i=Object(k.a)(e,pt);return Object(D.jsx)(g.Content,{title:n,subTitle:r,browserTitle:"Reports",children:Object(D.jsx)(g.Box,{type:"success",title:"Displaying activity reports",icon:"fa-chart-line",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({modalSize:"lg",canAdd:!1,canEdit:!1,canDelete:!1},i),{},{entitySingle:"User",entityPlural:"Users",resource:"/api/v1/admin/reports",columns:[{dataField:"entity",text:"Entity",sort:!0,formatter:function(e,t){return Object(D.jsx)("strong",{children:"".concat(t.entity).toUpperCase()})}},{dataField:"entityAction",text:"Action",sort:!0,formatter:function(e,t){return t.entityAction.split("_").join(" ")}},{dataField:"modifiedById",text:"Action Taken By",sort:!0,formatter:function(e,t){return t.modifiedById||"-"}},{dataField:"additionalInfo",text:"Comments",sort:!0,formatter:function(e,t){return"".concat(t.additionalInfo)}},{dataField:"createdAt",text:"Action Performed on",sort:!0,formatter:function(e,t){return"".concat(st(t.createdAt))}}]}))})})})})},ft=["title","description"],mt=function(e){var t=e.title,n=void 0===t?"Configurations":t,r=e.description,i=void 0===r?"here you can manage configurations":r,c=Object(k.a)(e,ft),o=Object(a.useState)([]),s=Object(w.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)(null),b=Object(w.a)(d,2),p=b[0],j=b[1],f=Object(a.useMemo)((function(){return p?l.filter((function(e){return e.id===p.id})):[]}),[p,l]);return Object(D.jsx)(g.Content,{title:n,subTitle:i,browserTitle:"Manage Configuration",children:Object(D.jsx)(g.Box,{type:"primary",title:"Displaying configurations",icon:"fa-cog",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(Se,Object(I.a)(Object(I.a)({},c),{},{hideIdOnEdit:!0,entityPlural:"Configurations",entitySingle:"Configuration",canAdd:!1,canEdit:!0,canDelete:!1,resource:"/api/v1/admin/settings",onFormShow:function(e){j(e)},onDataUpdated:function(e){u(e.results)},columns:[{dataField:"label",text:"Setting Name",sort:!0},{dataField:"value",text:"Setting Value",sort:!0}],formOptions:{fields:f}}))})})})})},ht=g.Navbar.Entry,Ot=Object(l.b)((function(e){var t;return{currentUser:(null===(t=e.currentUserState)||void 0===t?void 0:t.user)||null}}),(function(e){return{triggerLogin:function(){var t=Object(s.a)(Object(o.a)().mark((function t(n,a){var r,i,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.username,i=n.password,t.next=3,v.loginUser(r,i);case 3:(null===(c=t.sent)||void 0===c?void 0:c.success)&&e(x.a.setUserState(c.data));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}))((function(e){var t=e.triggerLogin;return!!e.currentUser?Object(D.jsxs)(r.a.Fragment,{children:[Object(D.jsx)(Ze,{}),Object(D.jsxs)(y.a,{theme:"black",title:["TMCS"," Dashboard"],children:[Object(D.jsx)(g.Navbar.Core,{children:Object(D.jsx)(ht,{to:"/logout",icon:"fa-power-off",labelType:"danger",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login";T.a.delete(x.c),window.location=e}()}})}),Object(D.jsx)(g.Sidebar.Core,{children:H.map((function(e,t){var n,a;return e.items&&e.items.length>0?Object(D.jsx)(g.Sidebar.Item,{onClick:e.onClick,icon:e.icon,text:e.title,to:e.path,color:null!==(a=e.color)&&void 0!==a?a:"gray",children:(e.items||[]).map((function(e,n){var a;return Object(D.jsx)(g.Sidebar.Item,{onClick:e.onClick,icon:e.icon,text:e.title,to:e.path,color:null!==(a=e.color)&&void 0!==a?a:"gray"},"".concat(t,"-child-").concat(n))}))},t):Object(D.jsx)(g.Sidebar.Item,{onClick:e.onClick,icon:e.icon,text:e.title,to:e.path,color:null!==(n=e.color)&&void 0!==n?n:"gray"},"".concat(t))}))}),Object(D.jsx)(Ne,{path:L,exact:!0}),Object(D.jsx)(Re,{path:M,exact:!0}),Object(D.jsx)(Te,{path:A,exact:!0}),Object(D.jsx)(ze,{path:z,exact:!0}),Object(D.jsx)(He,{path:V,exact:!0}),Object(D.jsx)(Xe,{path:"/",exact:!0}),Object(D.jsx)(tt,{path:q,exact:!0}),Object(D.jsx)(rt,{path:_,exact:!0}),Object(D.jsx)(ct,{path:G,exact:!0}),Object(D.jsx)(ut,{path:W,exact:!0}),Object(D.jsx)(bt,{path:J,exact:!0}),Object(D.jsx)(jt,{path:Y,exact:!0}),Object(D.jsx)(mt,{path:K,exact:!0})]})]}):Object(D.jsxs)(U.a,{children:[Object(D.jsx)(Ze,{}),Object(D.jsx)(R,{triggerLogin:t})]})})),vt=n(59);n(521),n(522),n(523);c.a.render(Object(D.jsx)(l.a,{store:vt.a,children:Object(D.jsx)(r.a.Fragment,{children:Object(D.jsx)(Ot,{})})}),document.getElementById("root"))},54:function(e,t,n){"use strict";var a={store:function(e,t){e&&t&&window.localStorage.setItem(e,JSON.stringify(t))},get:function(e){if(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return t||null}}},delete:function(e){e&&localStorage.removeItem(e)}};t.a=a},59:function(e,t,n){"use strict";var a=n(20),r=n(80),i=n(7),c=Object(a.b)({name:"registrationSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1}},reducers:{setRegistrations:function(e,t){var n=t.payload;e.listData=Object(i.a)({},n)}}}),o=c.reducer,s=(c.actions,n(98)),l=n(99),u=n(100),d=n(81),b=n(50),p=n(101),j=n(102),f=Object(a.b)({name:"userSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1}},reducers:{setUsers:function(e,t){var n=t.payload;e.listData=Object(i.a)({},n)}}}),m=f.reducer;f.actions,t.a=Object(a.a)({reducer:{globalState:d.b,currentUserState:b.b,rankState:s.b,branchState:l.b,locationState:u.b,registrationState:o,nmsState:p.b,deviceState:j.b,userState:m},middleware:[r.a]})},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(7),r=n(20),i=Object(r.b)({name:"globalSlice",initialState:{errors:null,globalMessage:{title:"",type:"",message:""},fileManagerContext:{context:null,show:!1}},reducers:{setGlobalMessage:function(e,t){var n=t.payload,r=n.type,i=n.title,c=n.message;e.globalMessage=Object(a.a)(Object(a.a)({},e.globalError),{},{type:r,title:i,message:c})},setFileManagerContext:function(e,t){var n=t.payload;e.fileManagerContext=Object(a.a)(Object(a.a)(Object(a.a)({},e.fileManagerContext),n),{},{show:!(null===n||void 0===n||!n.context)||n.show})}}}),c=i.actions,o=i.reducer},98:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(7),r=n(20),i=Object(r.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},rank:null},reducers:{setRanks:function(e,t){var n=t.payload;e.listData=Object(a.a)({},n)}}}),c=i.reducer,o=i.actions},99:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(7),r=n(20),i=Object(r.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},branch:null},reducers:{setBranches:function(e,t){var n=t.payload;e.listData=Object(a.a)({},n)}}}),c=i.reducer,o=i.actions}},[[526,1,2]]]);
//# sourceMappingURL=main.782b1fbc.chunk.js.map