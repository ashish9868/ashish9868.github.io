(this.webpackJsonpnewstool=this.webpackJsonpnewstool||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"n",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"s",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"l",(function(){return f})),n.d(t,"r",(function(){return j})),n.d(t,"a",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"q",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return x})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return y})),n.d(t,"t",(function(){return w})),n.d(t,"p",(function(){return k})),n.d(t,"w",(function(){return S}));var r="currentUser",a="/admin/locations",c="/admin/ranks",i="/admin/branches",o="/logout",s="/admin/registrations",l="/admin/nms-devices",u="/admin/users",d="/",b="/admin/manage-devices",f="/admin/online-users",j="/admin/super-users",p="/admin/db-backups",m="/admin/reports",O="/admin/settings",h="/admin/contact-us",v="/admin/dormant-users",x=[{icon:"fa-tachometer-alt",title:"Dashboard",path:d},{icon:"fa-globe",title:"Manage Locations",path:a},{icon:"fa-sort-numeric-up",title:"Manage Ranks",path:c},{icon:"fa-building",title:"Manage Branches",path:i},{icon:"fa-tasks",title:"Registration Requests",path:s},{icon:"fa-users",title:"Manage Users",path:u},{icon:"fa-users",title:"Current Users",color:"green",path:f},{icon:"fa-users",title:"Dormant Users",color:"red",path:v},{icon:"fa-laptop",title:"NMS",path:l},{icon:"fa-download",title:"Database Backups",path:p},{icon:"fa-tools",title:"Command, Control & Management",path:b},{icon:"fa-chart-line",title:"Reports",path:m},{icon:"fa-cog",title:"Configuration",path:O},{icon:"fa-phone-alt",title:"Contact us",path:h}],g={APPROVED:"APPROVED",REJECTED:"REJECTED",PENDING:"PENDING",DISABLED:"DISABLED",ACTIVE:"ACTIVE"},y={ACTIVE:{COLOR:"green",TEXT:"Active users are those who can login into application."},APPROVED:{COLOR:"orange",TEXT:"Approved users are those who registered via client application and approved by Admin."},DISABLED:{COLOR:"red",TEXT:"Disabled/Blocked users are those who are blocked by Admin and can't login into application."}},w={ADMIN:"ADMIN",USER:"USER"},k={LANDLINE_SALES:"landline_sales",EMAIL_SALES:"email_sales",LANDLINE_SUPPORT:"landline_support",EMAIL_SUPPORT:"email_support",LOGO:"logo",SNMP_CHECK_INTERVAL:"snmp_check_interval"},S={locationId:"Location",branchId:"Branch",rankId:"Rank",firstName:"First Name",lastName:"Last Name",middleName:"Middle Name",username:"Username",ip:"IP"}},116:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(8),a=n(24),c=Object(a.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},rank:null},reducers:{setRanks:function(e,t){var n=t.payload;e.listData=Object(r.a)({},n)}}}),i=c.reducer,o=c.actions},117:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(8),a=n(24),c=Object(a.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},branch:null},reducers:{setBranches:function(e,t){var n=t.payload;e.listData=Object(r.a)({},n)}}}),i=c.reducer,o=c.actions},118:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(8),a=n(24),c=Object(a.b)({name:"locationSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},_location:null},reducers:{setLocations:function(e,t){var n=t.payload;e.listData=Object(r.a)({},n)}}}),i=c.reducer,o=c.actions},119:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(8),a=n(24),c=Object(a.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},nms:null},reducers:{setNmsDevices:function(e,t){var n=t.payload;e.listData=Object(r.a)({},n)}}}),i=c.reducer,o=c.actions},120:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(8),a=n(24),c=Object(a.b)({name:"pageSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1},nms:null},reducers:{setDevices:function(e,t){var n=t.payload;e.listData=Object(r.a)({},n)}}}),i=c.reducer,o=c.actions},16:function(e,t,n){"use strict";n.r(t);var r=n(237),a=n.n(r),c=n(28),i=n(67),o=n(60),s=n(30),l=a.a.create({baseURL:"http://localhost:28000",headers:{"Content-type":"application/json"}});l.interceptors.request.use((function(e){var t=o.a.get("currentUser");return e.headers["Content-type"]="application/json",e.headers.Authorization="Bearer ".concat(null===t||void 0===t?void 0:t.accessToken),e})),l.interceptors.response.use((function(e){return{data:e.data,success:!0}}),(function(e){var t,n=null===e||void 0===e?void 0:e.response;switch(null===n||void 0===n?void 0:n.status){case 422:var r=null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:{},a=r.global||null;return a&&Object(s.b)({message:a,success:!1,hideTs:5e3,title:"Error!!"}),Promise.resolve({success:!1,errors:r,code:422});case 401:return i.a.dispatch(c.a.setUserState(null)),Promise.resolve({success:!1,code:401});case 404:return Object(s.b)({message:"Page/Resource you are trying to access, do not exist.",success:!1,hideTs:5e3,title:"Error!!"}),Promise.resolve({success:!1,code:404});default:Object(s.b)({message:"Something went wrong.",success:!1,hideTs:5e3,title:"Error!!"})}return Promise.reject(e)})),t.default=l},18:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return u}));var r=n(65),a=n(165),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"E do MMM, yyyy hh:mm a";return Object(r.default)(Object(a.default)(e),t)},i=function(e){return Object(r.default)(new Date(e),"yyyy-MM-dd")},o=function(e){return e<1024?"".concat(e," bytes"):e>1024&&e<1048576?"".concat((e/1024).toFixed(3)," KB"):e>1048576&&e<1073741824?"".concat((e/1048576).toFixed(3)," MB"):"".concat((e/1073741824).toFixed(3)," GB")},s=function(e){return[null===e||void 0===e?void 0:e.firstName,null===e||void 0===e?void 0:e.middleName,null===e||void 0===e?void 0:e.lastName].filter((function(e){return e})).join(" ")},l=function(e){if("object"===typeof e)return e;try{return Object(a.default)(e)}catch(t){return new Date(e)}},u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(8),a=n(24),c=n(10),i=n(60),o=Object(a.b)({name:"globalSlice",initialState:{errors:null,globalMessage:{title:"",type:"",message:""},settings:[],notifications:[],snmpDeviceStatus:{},user:i.a.get(c.d),currentUser:null},reducers:{setGlobalMessage:function(e,t){var n=t.payload,a=n.type,c=n.title,i=n.message;e.globalMessage=Object(r.a)(Object(r.a)({},e.globalError),{},{type:a,title:c,message:i})},setWebsiteSettings:function(e,t){var n=t.payload.results;e.settings=n},setSnmpDeviceStatus:function(e,t){var n=t.payload;e.snmpDeviceStatus=n},setNotifications:function(e,t){var n=t.payload;e.notifications=n},setUserState:function(e,t){var n=t.payload;n?i.a.store(c.d,n):i.a.delete(c.d),e.user=n,n&&(window.location="/")},setCurrentUser:function(e,t){var n=t.payload;e.currentUser=n}}}),s=o.actions,l=o.reducer},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n(28),a=n(67),c=function(e){var t=e.success,n=void 0===t||t,c=e.title,o=void 0===c?"Please note":c,s=e.message,l=e.hideTs,u=void 0===l?5e3:l;window.scrollTo(0,0),a.a.dispatch(r.a.setGlobalMessage({type:n?"success":"danger",title:o,message:s})),setTimeout((function(){i()}),u)},i=function(){a.a.dispatch(r.a.setGlobalMessage({type:"",title:"",message:""}))}},545:function(e,t,n){},547:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(23),i=n.n(c),o=n(3),s=n(7),l=n(33),u=n(16),d=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.post("/auth/admin/login",{username:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.get("/api/v1/me");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.get("/auth/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,u.default.get("/api/v1/admin/users",{params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.delete("/api/v1/admin/users/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.post("/api/v1/admin/users/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.patch("/api/v1/admin/users/".concat(t,"/block"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.patch("/api/v1/admin/users/".concat(t,"/unblock"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.patch("/api/v1/admin/users/".concat(t,"/password"),{password:n||"",confirmPassword:r||""});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),x={loginUser:d,getCurrentUser:b,logOutUser:f,getAllUsers:j,approveUser:m,rejectUser:p,blockUser:O,unblockUser:h,updatePassword:v},g=n(5),y=n.n(g),w=n(12),k=n(38),S=n(19),N=n(18),C=n(15),D=n(1),P=["triggerLogin","history"],I=C.a().shape({username:C.b().required(),password:C.b().required()}),E=function(e){var t=e.triggerLogin,n=void 0===t?Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))):t,r=e.history,a=(Object(w.a)(e,P),Object(S.d)());return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"fixed-logo-area",children:[Object(D.jsx)("img",{className:"leftLogo",src:"/dp_logo.png"}),Object(D.jsx)("img",{className:"rightLogo",src:"/dp_logo.png"})]}),Object(D.jsxs)("div",{className:"login-box",style:{border:"solid 1px #eee",marginBottom:"0 !important",paddingTop:50},children:[Object(D.jsx)("div",{className:"login-logo",children:Object(D.jsxs)("a",{href:"/",children:[Object(D.jsx)("b",{children:"TMCS"}),Object(D.jsx)("span",{style:{paddingLeft:5},children:"Login"})]})}),Object(D.jsx)("div",{className:"login-box-body",children:Object(D.jsx)(g.Box,{type:"primary",title:"Login to continue",children:Object(D.jsx)(k.c,{initialValues:{username:"",password:""},onSubmit:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,c){var i,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.setErrors,e.next=3,n(t,r||a);case 3:null!==(s=e.sent)&&void 0!==s&&s.errors&&i(s.errors);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),validationSchema:I,children:function(e){var t=e.errors,n=e.touched;return Object(D.jsxs)(k.b,{children:[Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsxs)("div",{className:"mb-2",children:[Object(D.jsx)("label",{htmlFor:"email",className:"form-label",children:"Username"}),Object(D.jsx)(k.a,{type:"text",autoComplete:"off",className:t.username&&n.username?"form-control shadow-none is-invalid":"form-control shadow-none",placholder:"Enter Username",name:"username",id:"username"}),t.username&&n.username&&Object(D.jsxs)("div",{className:"invalid-feedback text-red",children:[Object(D.jsx)("strong",{children:"Username"})," - ",Object(N.f)(t.username)]})]}),Object(D.jsxs)("div",{className:"mb-2",children:[Object(D.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(D.jsx)(k.a,{type:"password",name:"password",autoComplete:"off",className:t.password&&n.password?"form-control shadow-none is-invalid":"form-control shadow-none",placholder:"Enter password",id:"password"}),t.password&&n.password&&Object(D.jsx)("div",{className:"invalid-feedback",children:t.password})]})]}),Object(D.jsx)("hr",{}),Object(D.jsx)("div",{className:"card-footer text-center",children:Object(D.jsx)("div",{className:"d-flex flex-row-reverse",children:Object(D.jsx)("button",{type:"submit",className:"btn btn-block rounded-0  btn-primary",children:"Submit"})})})]})}})})})]}),Object(D.jsx)("div",{className:"loginFooter login-box",children:Object(D.jsxs)("div",{children:[Object(D.jsx)("img",{className:"footerLogo",src:"/default_logo.png"}),Object(D.jsx)("br",{}),Object(D.jsx)("h4",{children:"Mobile Communications India Private Limited."}),Object(D.jsxs)("p",{children:["A-16, (Front Side), Naraina Industrial Area, Phase II",Object(D.jsx)("br",{}),"New Delhi - 110028, Email: ",Object(D.jsx)("a",{href:"mailto:contact@mobilecom.in",children:"contact@mobilecom.in"})]})]})})]})},U=n(256),R=n(8),F=n(10),T=n(60),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=B(e);t=n?Object(R.a)(Object(R.a)({},a),t):t;var c={};Object.keys(t).forEach((function(e){"undefined"!==typeof t[e]&&"undefined"!==t[e]&&"null"!==t[e]&&null!==t[e]&&(c[e]=t[e])})),r?e.replace({pathname:e.location.pathname,search:new URLSearchParams(c).toString()}):e.push({pathname:e.location.pathname,search:new URLSearchParams(c).toString()})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={},a=new URLSearchParams(e.location.search);return a.forEach((function(e,t){r[t]=e})),null!=t?r[t]||n:r},A=n(117),M=n(11),q=n(246),_=n.n(q),V=n(247),z=n.n(V),G=n(248),W=n.n(G),J=n(249),Y=n.n(J),K=n(160),H=n.n(K),X=function(e){var t=e.children,n=void 0===t?"":t,r=e.title,a=void 0===r?"Dialog":r,c=e.exists,i=void 0===c||c,o=e.show,s=void 0===o||o,l=e.showHeader,u=void 0===l||l,d=e.acceptText,b=void 0===d?null:d,f=e.cancelText,j=void 0===f?null:f,p=e.canDismiss,m=void 0===p||p,O=e.size,h=void 0===O?"xl":O,v=e.bodyPadding,x=void 0===v?2:v,y=e.zIndex,w=void 0===y?1050:y,k=e.cancelDisabled,S=void 0!==k&&k,N=e.successDisabled,C=void 0!==N&&N,P=e.onSuccess,I=void 0===P?function(){}:P,E=e.onCancel,U=void 0===E?function(){}:E,R=e.onDismiss,F=void 0===R?function(){}:R;return i&&Object(D.jsx)("div",{className:s?"modal fade in":"modal fade",tabIndex:"-1","aria-hidden":s,style:{display:s?"block":"none",zIndex:w,overflow:"auto"},children:Object(D.jsx)("div",{className:"modal-dialog modal-".concat(h),children:Object(D.jsxs)("div",{className:"modal-content",children:[u&&Object(D.jsx)("div",{className:"modal-header",children:Object(D.jsxs)("h4",{className:"modal-title",children:[a,m&&Object(D.jsx)(g.Button,{type:"button",className:"close","aria-label":"Close",onClick:F,icon:"fa-times"})]})}),Object(D.jsx)("div",{className:"modal-body p-".concat(x),children:n}),(j||b)&&Object(D.jsxs)("div",{className:"modal-footer",children:[j&&Object(D.jsx)("button",{disabled:S,className:"btn rounded-0  btn-default",onClick:U,children:j}),b&&Object(D.jsx)("button",{disabled:C,className:"btn rounded-0  btn-primary",onClick:I,children:b})]})]})})})},Q=n(88),Z=n(30),$=n(16).default,ee=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/v1/locations");case 2:return t=e.sent,n=null!==t&&void 0!==t&&t.success?t.data:[],e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/v1/branches");case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t&&t.success?t.data:[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/v1/ranks");case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t&&t.success?t.data:[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t>0)){e.next=6;break}return e.next=3,$.get("/api/v1/admin/locations?locationId=".concat(t));case 3:if(null===(n=e.sent)||void 0===n||!n.success){e.next=6;break}return e.abrupt("return",n.data.results);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.post("/api/v1/admin/db-backups");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/v1/admin/dashboard");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/v1/admin/nms-devices/status");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/v1/admin/notifications");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se={getLocationList:ee,getBranchesList:te,getRanksList:ne,createDatabaseBackup:ae,getDashboardSummary:ce,getNmsDevicesStatus:ie,getNotifications:oe,getSubLocations:re},le=n(28),ue=["modalSize","keyField","entitySingle","entityPlural","columns","hideIdOnEdit","data","remote","defaultSorted","showTotal","beforeSave","onTableChange","onDataUpdated","onDelete","canAdd","canDelete","canDeleteFn","canEdit","rowActionButtons","globalActionButtons","formOptions","resource","onFormShow","onRefresh","actionColumnWidth","filterComponents","confirmDelete"];H.a.propTypes=void 0;var de="edit",be=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r,a,c){var i,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=7;break}return e.next=3,u.default.delete("".concat(t,"/").concat(n));case 3:null!==(i=e.sent)&&void 0!==i&&i.success?Object(Z.b)({success:!0,message:"".concat(r," successfully deleted.")}):a(null!==(s=null===i||void 0===i?void 0:i.errors)&&void 0!==s?s:{}),e.next=9;break;case 7:return e.next=9,c(n);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),fe=function(e){var t=e.modalSize,n=void 0===t?"xl":t,c=e.keyField,i=void 0===c?"id":c,l=e.entitySingle,d=void 0===l?"record":l,b=e.entityPlural,f=void 0===b?"records":b,j=e.columns,p=void 0===j?[]:j,m=e.hideIdOnEdit,O=void 0!==m&&m,h=e.data,v=void 0===h?{results:[],currentPage:1,totalResults:0,limit:100,totalPages:1}:h,x=e.remote,y=void 0===x?{sort:!0,filter:!0,pagination:!0}:x,k=e.defaultSorted,S=void 0===k?[{dataField:"id",order:"asc"}]:k,N=e.showTotal,C=void 0===N||N,P=e.beforeSave,I=void 0===P?function(e){return e}:P,E=e.onTableChange,U=void 0===E?function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():E,F=e.onDataUpdated,T=void 0===F?function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():F,A=e.onDelete,q=void 0===A?function(e){}:A,V=e.canAdd,G=void 0===V||V,J=e.canDelete,K=void 0===J||J,H=e.canDeleteFn,$=void 0===H?function(e){return!0}:H,ee=e.canEdit,te=void 0===ee||ee,ne=e.rowActionButtons,re=void 0===ne?[]:ne,ae=e.globalActionButtons,ce=void 0===ae?[]:ae,ie=e.formOptions,oe=void 0===ie?{fields:[],validationSchema:null,onSuccess:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}:ie,se=e.resource,le=void 0===se?null:se,fe=e.onFormShow,je=void 0===fe?function(e,t){}:fe,pe=e.onRefresh,me=void 0===pe?function(){}:pe,Oe=e.actionColumnWidth,he=void 0===Oe?200:Oe,ve=e.filterComponents,xe=void 0===ve?[]:ve,ge=e.confirmDelete,ye=void 0===ge||ge,we=Object(w.a)(e,ue),ke=Object(r.useState)({}),Se=Object(M.a)(ke,2),Ne=Se[0],Ce=Se[1],De=Object(r.useState)(null),Pe=Object(M.a)(De,2),Ie=Pe[0],Ee=Pe[1],Ue=Object(r.useState)(!1),Re=Object(M.a)(Ue,2),Fe=Re[0],Te=Re[1],Le=Object(r.useState)(!1),Be=Object(M.a)(Le,2),Ae=Be[0],Me=Be[1],qe=Object(r.useState)(0),_e=Object(M.a)(qe,2),Ve=_e[0],ze=_e[1],Ge=Object(r.useState)([]),We=Object(M.a)(Ge,2),Je=We[0],Ye=(We[1],Object(r.useState)(!1)),Ke=Object(M.a)(Ye,2),He=Ke[0],Xe=Ke[1],Qe=Object(r.useState)(v),Ze=Object(M.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(r.useCallback)(Object(s.a)(Object(o.a)().mark((function e(){var t,n,r,a,c,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce({}),!le){e.next=7;break}return t=B(we.history),e.next=5,u.default.get("".concat(le),{params:t});case 5:null!==(n=e.sent)&&void 0!==n&&n.success?et({results:(null===(r=n.data)||void 0===r?void 0:r.results)||[],currentPage:(null===(a=n.data)||void 0===a?void 0:a.currentPage)||1,totalResults:n.data.totalResults||0,limit:(null===(c=n.data)||void 0===c?void 0:c.limit)||100,totalPages:(null===(i=n.data)||void 0===i?void 0:i.totalPages)||1}):et(Object(R.a)(Object(R.a)({},v),{},{results:[],totalResults:0,limit:100}));case 7:case"end":return e.stop()}}),e)}))),[le,v,we.history]),nt=Object(r.useMemo)((function(){var e=p.filter((function(e){return"_actions"!==e.dataField}));return te||K||re.length>0?(e.push({dataField:"_actions",isDummyField:!0,style:{width:he||200},text:"Actions",formatter:function(e,t){return Object(D.jsxs)(g.ButtonGroup,{children:[re.map((function(e){if(e.canShow=e.canShow?e.canShow:function(){return!0},e.canShow&&e.canShow(t))return e.buildText&&(e.text=e.buildText(t)),Object(D.jsx)(g.Button,{className:"mr-2 btn-sm",type:(null===e||void 0===e?void 0:e.type)||"primary",icon:(null===e||void 0===e?void 0:e.icon)||"gear",text:e.text,onClick:Object(s.a)(Object(o.a)().mark((function n(){return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.onClick(t.id,t);case 2:tt();case 3:case"end":return n.stop()}}),n)})))},"action-".concat(t.id,"-").concat(e.text))})),te&&Object(D.jsx)(g.Button,{className:"mr-2 btn-sm",type:"primary",text:"Edit",icon:"fa-edit",onClick:function(){L(we.history,{id:t.id,mode:de},!0),Ee(t),Te(!0),Ce({})}}),K&&$(t)&&Object(D.jsx)(g.Button,{className:"mr-2 btn-sm",type:"danger",onClick:Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(t.id),!ye){e.next=5;break}Me(!0),e.next=9;break;case 5:return e.next=7,be(le,Ve,d,Ce,q);case 7:ze(0),tt();case 9:case"end":return e.stop()}}),e)}))),text:"Delete",icon:"fa-trash"})]})}}),e):e}),[p,K,$,G,q,re,we.history]),rt=Object(r.useMemo)((function(){return null!=Ie&&null!==Ie&&void 0!==Ie&&Ie.id?oe.fields.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{required:!1})})):oe.fields}),[oe.fields]),at=Object(r.useMemo)((function(){var e={};return rt.forEach((function(t){e[t.recordKey||t.name]=Ie?Ie[t.recordKey]||Ie[t.name]||t.default||"":t.default||""})),e.id=Ie?Ie.id:null,e}),[Ie,rt]),ct=function(){var e=B(we.history),t=e.mode||"",n=e.id||null,r="add"===t||t===de,a=($e.results||[]).find((function(e){return"".concat(e.id)===n}));Ee(a),Te(r)};return Object(r.useEffect)((function(){return tt(),ct(),we.history.listen((function(){tt()}))}),[]),Object(r.useEffect)((function(){ct(),T($e)}),[Fe,$e]),Object(r.useEffect)((function(){je(Ie,B(we.history,"mode"))}),[Ie,we.history]),Object(D.jsxs)(a.a.Fragment,{children:[Object(D.jsx)(X,{show:Ae,title:"Are you sure??",onCancel:function(){Me(!1)},onDismiss:function(){Me(!1)},acceptText:"Yes Continue",cancelText:"Cancel",onSuccess:Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Me(!1),e.next=3,be(le,Ve,d,Ce,q);case 3:ze(0),tt();case 5:case"end":return e.stop()}}),e)}))),children:Object(D.jsx)("p",{className:"text-red",children:"Deleting this record will delete all the related data"})}),(G||te)&&Object(D.jsx)(X,{size:n,show:Fe,showHeader:!0,title:"".concat(Ie?"Editing ".concat(d," ").concat(O?"":"#".concat(Ie.id)):"Adding ".concat(d)),onDismiss:function(){Te(!1),L(we.history,{mode:null,id:null},!0,!0)},children:Object(D.jsx)(Q.default,{entityPlural:f,entitySingle:d,formErrors:Ne,fields:rt,initialValues:at,editMode:!!Ie,onSubmit:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var r,a,c,i,s,l,b;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.resetForm,window.scrollTo(0,0),t=I(t),!le){e.next=16;break}if(null===(i=t)||void 0===i||!i.id){e.next=10;break}return e.next=7,u.default.put("".concat(le,"/").concat(t.id),t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,u.default.post(le,t);case 12:e.t0=e.sent;case 13:c=e.t0,e.next=19;break;case 16:return e.next=18,oe.onSuccess(t);case 18:c=e.sent;case 19:null!==(r=c)&&void 0!==r&&r.success?(a(),Ee(null),Te(!1),L(we.history,{mode:null,id:null},!0,!0),U(B(we.history)),Object(Z.b)({success:!0,message:"".concat(d," successfully ").concat(null!==(s=t)&&void 0!==s&&s.id?"updated":"created")})):Ce(null!==(l=null===(b=c)||void 0===b?void 0:b.errors)&&void 0!==l?l:{});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}),Object(D.jsx)(_.a,{keyField:i,data:$e.results||[],columns:nt,children:function(e){return Object(D.jsxs)("div",{children:[Object(D.jsx)("br",{}),Object(D.jsxs)(g.Row,{className:"text-left",children:[xe.length>0&&Object(D.jsx)(g.Col,{className:"filtersSection",md:12,children:Object(D.jsx)(g.Box,{type:"default",title:"",children:xe.map((function(e){return e}))})}),Object(D.jsxs)(g.Col,{md:12,className:"text-right",children:[Object(D.jsx)(g.Button,{onClick:Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe(!0),tt(),e.next=4,U(B(we.history));case 4:Xe(!1);case 5:case"end":return e.stop()}}),e)}))),className:"mr-2 btn-sm",id:"btnRefresh",type:"primary",disabled:He,text:He?"Loading...":"Refresh",icon:"fa-redo"}),G&&Object(D.jsx)(g.Button,{className:"mr-2 btn-sm",onClick:function(){L(we.history,{mode:"add",id:void 0},!0),Te(!0),Ee(null),me()},type:"success",text:"Add ".concat(d),icon:"fa-plus-circle"}),ce.map((function(e){return Object(D.jsx)(g.Button,{className:"mr-2 btn-sm",type:e.type,icon:e.icon,text:e.text,onClick:Object(s.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onClick(Je);case 2:tt();case 3:case"end":return t.stop()}}),t)})))},e.text)}))]})]}),Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{children:Object(D.jsx)("hr",{})})}),Object(D.jsx)(z.a,Object(R.a)(Object(R.a)({},e.baseProps),{},{remote:y,defaultSorted:S,pagination:$e.totalPages>1?W()({page:$e.currentPage||1,sizePerPage:$e.limit||100,totalSize:$e.totalResults||$e.results.length||0,sizePerPageList:[100,200,500],paginationSize:$e.totalResults||$e.results.length||0,showTotal:C}):null,loading:He,onTableChange:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={sortOrder:n.sortOrder,sortBy:n.sortField,page:n.page,limit:n.sizePerPage},L(we.history,r),Xe(!0),e.next=5,U(r);case 5:Xe(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),striped:!0,overlay:Y()({spinner:!0,styles:{overlay:function(e){return Object(R.a)(Object(R.a)({},e),{},{background:"rgba(0, 0, 0, 0.5)",position:"absolute"})}}}),noDataIndication:function(){return Object(D.jsxs)("h5",{className:"text-center",children:["Sorry no ",f," currently availble"]})}}))]})}})]})},je=["title","description"],pe=function(e){var t=e.title,n=void 0===t?"Branches":t,r=e.description,a=void 0===r?"here you can manage branches":r,c=Object(w.a)(e,je);return Object(D.jsx)(g.Content,{title:n,subTitle:a,browserTitle:"Manage Branch",children:Object(D.jsx)(g.Box,{type:"primary",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({},c),{},{entityPlural:"Branches",entitySingle:"Branch",resource:"/api/v1/admin/branches",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.a.setBranches(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),defaultSorted:[{dataField:"id",order:"asc"}],columns:[{dataField:"id",text:"Branch ID",hidden:!0},{dataField:"title",text:"Title",sort:!0},{dataField:"description",text:"Description",sort:!0}],formOptions:{fields:[{id:"title",name:"title",label:"Title",placeholder:"Enter Title",required:!0,type:"text",cols:12},{id:"description",name:"description",label:"Branch Description",type:"text",cols:12}],validationSchema:C.a().shape({title:C.b().required(),description:C.b()})}}))})})})})},me=n(26),Oe=n(254),he=n(118),ve=function(e){var t=e.row,n=Object(r.useRef)(),a=Object(r.useState)([]),c=Object(M.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){return n.current=!0,se.getSubLocations(null===t||void 0===t?void 0:t.id).then((function(e){n.current&&o(e)})),function(){n.current=!1}}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("span",{style:{padding:5},children:t.title}),i.length>0&&Object(D.jsx)(g.Badge,{color:"green",text:"".concat(i.length," subLocation").concat(i.length>1?"s":"")})]})},xe=function(e){var t=Object.assign({},(Object(Oe.a)(e),e)),n=" \xbb ",a=Object(r.useState)(0),c=Object(M.a)(a,2),i=c[0],l=c[1],u=Object(r.useState)([]),d=Object(M.a)(u,2),b=d[0],f=d[1],j=Object(r.useMemo)((function(){return i>1?[]:[{icon:"fa-link",type:"primary",text:"Sublocations",onClick:function(e,n){var r=i+1,a=[].concat(Object(me.a)(b),[n.title]);f(a),l(r),L(t.history,{level:r,locationId:e,segments:a.join(",")})}}]}),[i,b,t.history]);return Object(r.useEffect)((function(){var e=function(){var e=B(t.history),n=(e.segments||"").split(",").filter((function(e){return!!e}));l(parseInt(e.level||0)),f(n)};return e(),t.history.listen(e)}),[t.history]),Object(D.jsx)(g.Content,{title:["Manage Locations"].concat(b).join(n),subTitle:["here you can manage locations"].concat(b).join(n),browserTitle:b.join(n),children:Object(D.jsx)(g.Box,{type:"primary",title:["Displaying locations"].concat(b).join(n),icon:"fa-globe",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({},t),{},{actionColumnWidth:320,entityPlural:["Locations"].concat(b).join(n),entitySingle:["Location"].concat(b).join(n),resource:"/api/v1/admin/locations",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he.a.setLocations(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),columns:[{dataField:"id",text:"Location ID",hidden:!0},{dataField:"title",text:"Title",sort:!0,formatter:function(e,t){return Object(D.jsx)(ve,{row:t})}},{dataField:"email",text:"Email"},{dataField:"polnetInterface",text:"Polnet Interface"},{dataField:"polnetIP",text:"Polnet IP"}],rowActionButtons:j,beforeSave:function(e){var n=B(t.history);return e.locationId=n.locationId||null,e},formOptions:{fields:[{id:"title",name:"title",label:"Title",placeholder:"Enter Title",required:!0,type:"text",cols:12},{id:"email",name:"email",label:"Location Email",type:"text",cols:12},{id:"polnetInterface",name:"polnetInterface",label:"Polnet Interface",type:"text",cols:12},{id:"polnetIP",name:"polnetIP",label:"Polnet IP",type:"text",cols:12}],validationSchema:C.a().shape({title:C.b().required(),email:C.b().email(),description:C.b()})}}))})})})})},ge=n(116),ye=["title","description"],we=function(e){var t=e.title,n=void 0===t?"Ranks":t,r=e.description,a=void 0===r?"here you can manage ranks":r,c=Object(w.a)(e,ye);return Object(D.jsx)(g.Content,{title:n,subTitle:a,browserTitle:"Manage Rank",children:Object(D.jsx)(g.Box,{type:"primary",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({},c),{},{entityPlural:"Ranks",entitySingle:"Rank",defaultSorted:[{dataField:"id",order:"asc"}],resource:"/api/v1/admin/ranks",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ge.a.setRanks(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),columns:[{dataField:"id",text:"Rank ID",hidden:!0},{dataField:"title",text:"Title",sort:!0},{dataField:"description",text:"Description",sort:!0}],formOptions:{fields:[{id:"title",name:"title",label:"Title",placeholder:"Enter Title",type:"text",required:!0,cols:12},{id:"description",name:"description",label:"Rank Description",type:"text",cols:12}],validationSchema:C.a().shape({title:C.b().required(),description:C.b()})}}))})})})})},ke=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.delete("/api/v1/admin/registrations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.post("/api/v1/admin/registrations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne={rejectRegistration:ke,approveRegistration:Se},Ce=["title","description"],De="PENDING",Pe=function(e){var t=e.title,n=void 0===t?"Registrations":t,r=e.description,a=void 0===r?"here you can manage registrations":r,c=Object(w.a)(e,Ce);return Object(D.jsx)(g.Content,{title:n,subTitle:a,browserTitle:"Manage Registration",children:Object(D.jsx)(g.Box,{type:"primary",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({},c),{},{actionColumnWidth:300,entitySingle:"Registration",entityPlural:"Registrations",resource:"/api/v1/admin/registrations",rowActionButtons:[{text:"Approve",icon:"fa-check",type:"success",canShow:function(e){return e.status===De},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.approveRegistration(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{text:"Reject",icon:"fa-times",type:"danger",canShow:function(e){return e.status===De},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.rejectRegistration(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],canAdd:!1,canEdit:!1,canDelete:!1,columns:[{dataField:"id",text:"Registration ID",hidden:!0},{dataField:"username",text:"Username",sort:!0},{dataField:"status",text:"Status",sort:!0},{dataField:"firstName",text:"First Name",sort:!0},{dataField:"middleName",text:"Middle Name",sort:!0},{dataField:"lastName",text:"Last Name",sort:!0},{dataField:"ip",text:"IP"},{dataField:"port",text:"Port"}]}))})})})})},Ie=["currentUser","title","description"],Ee=function(e){var t=e.currentUser,n=e.title,a=void 0===n?"Users":n,c=e.description,i=void 0===c?"here you can manage users":c,l=Object(w.a)(e,Ie),u=Object(r.useState)([]),d=Object(M.a)(u,2),b=d[0],f=d[1],j=Object(r.useState)([]),p=Object(M.a)(j,2),m=p[0],O=p[1],h=Object(r.useState)([]),v=Object(M.a)(h,2),y=v[0],k=v[1],S=Object(r.useState)(null),N=Object(M.a)(S,2),C=N[0],P=N[1],I=Object(r.useState)(!1),E=Object(M.a)(I,2),U=E[0],T=E[1],L=Object(r.useState)({}),B=Object(M.a)(L,2),A=B[0],q=B[1],_=Object(r.useMemo)((function(){return[F.t.USER,F.t.ADMIN]}),[t]);Object(r.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,se.getLocationList();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=O,e.next=8,se.getBranchesList();case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=k,e.next=13,se.getRanksList();case 13:e.t5=e.sent,(0,e.t4)(e.t5);case 15:case"end":return e.stop()}}),e)})))()}),[]);var V=Object(r.useMemo)((function(){var e=[{id:"username",name:"username",label:"Username",required:!0,placeholder:"Enter Username",type:"text",cols:12},{id:"role",name:"role",label:"User Role",type:"radio_group",required:!0,default:F.t.USER,cols:12,options:_.map((function(e){return{key:e,value:e}}))},{id:"firstName",name:"firstName",label:"First Name",required:!0,type:"text",cols:4},{id:"middleName",name:"middleName",label:"Middle Name",type:"text",cols:4},{id:"lastName",name:"lastName",label:"Last Name",type:"text",cols:4},{id:"locationId",name:"locationId",label:"Location",required:!0,type:"select",options:b.map((function(e){return{key:e.id,value:e.title}})),cols:4},{id:"branchId",name:"branchId",label:"Branch",required:!0,type:"select",options:m.map((function(e){return{key:e.id,value:e.title}})),cols:4},{id:"rankId",name:"rankId",label:"Rank",required:!0,type:"select",options:y.map((function(e){return{key:e.id,value:e.title}})),cols:4},{id:"ip",name:"ip",label:"IP",type:"text",cols:10},{id:"port",name:"port",label:"Port",type:"text",cols:2},{id:"addressLine1",name:"addressLine1",label:"Address Line 1",type:"textarea",cols:6},{id:"addressLine2",name:"addressLine2",label:"Address Line 2",type:"textarea",cols:6}];return C&&null!==C&&void 0!==C&&C.id,e}),[b,y,m,C,_]);return Object(D.jsxs)(g.Content,{title:a,subTitle:i,browserTitle:"Manage Users",children:[(null===C||void 0===C?void 0:C.id)&&Object(D.jsx)(X,{title:"Updating password #".concat(C.id),show:U,onDismiss:function(){T(!1)},children:Object(D.jsxs)(D.Fragment,{children:[C.status===F.u.APPROVED&&Object(D.jsxs)("p",{className:"text-danger",children:[Object(D.jsx)("strong",{children:"Please Note:*"}),"\xa0Setting password for approved users will activate the user (they can login).",Object(D.jsx)("hr",{})]}),Object(D.jsx)(Q.default,{entitySingle:"Password",initialValues:{password:"",confirmPassword:""},formErrors:A,fields:[{id:"password",name:"password",label:"Password",type:"password",required:!0,cols:12},{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",required:!0,cols:12}],editMode:!0,onSubmit:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var r,a,c,i,s,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.resetForm,window.scrollTo(0,0),a=t.password,c=t.confirmPassword,e.next=5,x.updatePassword(C.id,a,c);case 5:null!==(i=e.sent)&&void 0!==i&&i.success?(r(),P(null),T(!1),Object(Z.b)({success:!0,message:"Password successfully updated"}),null===(s=document.getElementById("btnRefresh"))||void 0===s||s.click()):q(null!==(l=null===i||void 0===i?void 0:i.errors)&&void 0!==l?l:{});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})]})}),Object(D.jsx)(g.Box,{type:"primary",title:"",children:Object(D.jsx)(g.Row,{children:Object(D.jsxs)(g.Col,{md:12,children:[Object.keys(F.v).map((function(e){return Object(D.jsxs)("p",{children:[Object(D.jsx)("span",{style:{width:75,display:"inline-block"},children:Object(D.jsx)(g.Badge,{color:F.v[e].COLOR,text:e})})," : ",Object(D.jsx)("strong",{children:F.v[e].TEXT})]})})),Object(D.jsx)(fe,Object(R.a)(Object(R.a)({modalSize:"lg",actionColumnWidth:420},l),{},{canAdd:!0,canDeleteFn:function(e){return(null===e||void 0===e?void 0:e.id)!==(null===t||void 0===t?void 0:t.id)},beforeSave:function(e){return e.role||(e.role=F.t.USER),e},rowActionButtons:[{buildText:function(e){return(null===e||void 0===e?void 0:e.status)===F.u.APPROVED?"Create Password":"Update Password"},icon:"fa-key",type:"primary",onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(n),T(!0);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{text:"Block",icon:"fa-times",type:"danger",canShow:function(e){return e.status===F.u.ACTIVE&&t.id!==e.id},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.blockUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{text:"Unblock",icon:"fa-check",type:"success",canShow:function(e){return e.status===F.u.DISABLED},onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.unblockUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],entitySingle:"User",entityPlural:"Users",resource:"/api/v1/admin/users",onFormShow:function(e,t){P(e)},formOptions:{fields:V},columns:[{dataField:"id",text:"User ID",hidden:!0},{dataField:"username",text:"Username",sort:!0},{dataField:"role",text:"Role",sort:!0},{dataField:"branchId",text:"Branch",sort:!0,formatter:function(e,t){var n;return(null===(n=m.find((function(e){return"".concat(e.id)==="".concat(t.branchId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"rankId",text:"Rank",sort:!0,formatter:function(e,t){var n;return(null===(n=y.find((function(e){return"".concat(e.id)==="".concat(t.rankId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"locationId",text:"Location",sort:!0,formatter:function(e,t){var n;return(null===(n=b.find((function(e){return"".concat(e.id)==="".concat(t.locationId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"status",text:"Status",sort:!0,formatter:function(e,t){return Object(D.jsx)(g.Badge,{text:t.status,color:t.status===F.u.ACTIVE?"green":"orange"})}},{dataField:"firstName",text:"Name",sort:!0,formatter:function(e,t){return[t.firstName,t.middleName,t.lastName].filter((function(e){return!!e})).join(" ")}},{dataField:"ip",text:"IP:Port",formatter:function(e,t){return[t.ip,t.port].filter((function(e){return!!e})).join(":")}}]}))]})})})]})},Ue=["title","description"],Re=function(e){var t=e.title,n=void 0===t?"System Overview":t,a=e.description,c=(Object(w.a)(e,Ue),{totalUsers:{text:"Total Users",icon:"fa-users",to:F.s,color:"orange"},totalOnlineUsers:{text:"Total Online Users",icon:"fa-users",to:F.l,color:"teal"},totalSuperUsers:{text:"Total Admin Users",icon:"fa-users",to:F.r,color:"purple"},totalDormantUsers:{text:"Total Dormant Users",icon:"fa-users",to:F.r,color:"red"},totalNmsDevices:{text:"Total NMS Monitored Devices",icon:"fa-laptop",to:F.k,color:"purple"},totalDevices:{text:"Total devices in directory",icon:"fa-laptop",to:F.f,color:"orange"},totalPendingRequests:{text:"Pending registration requests",icon:"fa-tasks",to:F.n,color:"teal"},totalDistricts:{text:"Total Districts",icon:"fa-map-marker-alt",to:F.h,color:"purple"},totalRemotes:{text:"Total Remotes",icon:"fa-map-marker-alt",to:F.h,color:"teal"}}),i=Object(r.useState)({totalUsers:0,totalOnlineUsers:0,totalSuperUsers:0,totalNmsDevices:0,totalDevices:0,totalPendingRequests:0}),l=Object(M.a)(i,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.getDashboardSummary();case 2:(null===(t=e.sent)||void 0===t?void 0:t.data)&&d(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(D.jsx)(g.Content,{title:[n],subTitle:a,browserTitle:n,children:Object(D.jsx)(g.Row,{children:Object.keys(c).map((function(e){var t=c[e];return Object(D.jsx)(g.Col,{md:4,children:Object(D.jsx)(g.Box,{color:t.color,type:"success",icon:t.icon,children:Object(D.jsx)(g.Infobox2,Object(R.a)({title:u[e]||0},t))})},e)}))})})},Fe=Object(l.b)((function(e){var t;return{globalMessage:(null===(t=e.globalState)||void 0===t?void 0:t.globalMessage)||{}}}),null)((function(e){var t=e.globalMessage,n=void 0===t?{}:t;return n&&n.message?Object(D.jsx)("div",{className:"globalAlert",children:Object(D.jsx)(g.Alert,{closable:!0,title:n.title,size:"xl",show:n.message,zIndex:9999,type:n.type,onDismiss:function(){Object(Z.a)()},children:Object(D.jsx)("p",{children:n.message})})}):Object(D.jsx)(a.a.Fragment,{})})),Te=n(119),Le=["label","cols"],Be=(n(88).default,function(e){e.label;var t=e.cols,n=void 0===t?12:t,a=Object(w.a)(e,Le),c=Object(r.useState)([]),i=Object(M.a)(c,2),l=i[0],u=i[1],d=Object(r.useState)(null),b=Object(M.a)(d,2),f=b[0],j=b[1],p=function(){return B(a.history,"locationId",null)};return Object(r.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,se.getLocationList();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(r.useEffect)((function(){return j(p()),a.history.listen((function(){j(p())}))}),[]),Object(D.jsx)("div",{className:"col-md-".concat(n),children:Object(D.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center"},children:[Object(D.jsx)("label",{className:"mr-2",style:{whiteSpace:"nowrap"},children:"Filter by location:"}),Object(D.jsxs)("select",{className:"form-control",id:"locationId",name:"locationId",value:f||0,onChange:function(e){var t=e.nativeEvent.target.value;L(a.history,{locationId:t||null},!0)},children:[Object(D.jsx)("option",{children:"Choose location"}),l.map((function(e){return Object(D.jsx)("option",{value:e.id,children:e.title},e.id)}))]})]})})}),Ae=function(e){var t=e.history,n=e.title,r=void 0===n?"Clear Filters":n,a=e.filtersToClear,c=void 0===a?["locationId","start","end"]:a,i=e.cols,o=void 0===i?2:i;return Object(D.jsx)("div",{className:"col-md-".concat(o),children:Object(D.jsx)("span",{className:"btn btn-danger",onClick:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=B(e),r={};Object.keys(n).forEach((function(e){t.includes(e)||(r[e]=n[e])})),e.push({pathname:e.location.pathname,search:new URLSearchParams(r).toString()})}(t,c)},children:r})})},Me=n(75),qe=["title","description","settings"],_e=Object(l.b)((function(e){var t;return{settings:(null===(t=e.globalState)||void 0===t?void 0:t.settings)||[]}}),null)((function(e){var t=e.title,n=void 0===t?"Manage NMS Devices":t,a=e.description,c=void 0===a?"here you can manage devices":a,i=e.settings,l=void 0===i?[]:i,u=Object(w.a)(e,qe),d=Object(r.useState)({}),b=Object(M.a)(d,2),f=b[0],j=b[1],p=Object(r.useState)(5e3),m=Object(M.a)(p,2),O=m[0],h=m[1];Object(r.useEffect)((function(){var e,t=(null===(e=l.find((function(e){return e.name===F.p.SNMP_CHECK_INTERVAL})))||void 0===e?void 0:e.value)||5;h(t)}),[]);var v=Object(r.useState)([]),x=Object(M.a)(v,2),y=x[0],k=x[1];return Object(r.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,se.getLocationList();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(r.useEffect)((function(){var e=setInterval(Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.getNmsDevicesStatus();case 2:(null===(t=e.sent)||void 0===t?void 0:t.success)&&j(t.data);case 4:case"end":return e.stop()}}),e)}))),1e3*O);return function(){return clearInterval(e)}}),[O]),Object(D.jsx)(g.Content,{title:n,subTitle:c,browserTitle:n,children:Object(D.jsx)(g.Box,{type:"primary",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({},u),{},{entityPlural:"NMS Devices",entitySingle:"NMS Device",resource:"/api/v1/admin/nms-devices",onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te.a.setNmsDevices(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),filterComponents:[Object(D.jsx)(Be,{history:u.history,cols:4},"location_filter"),Object(D.jsx)(Ae,{history:u.history},"clearfilter")],columns:[{dataField:"id",text:"Device ID",hidden:!0},{dataField:"name",text:"Name",sort:!0},{dataField:"locationId",text:"Location",sort:!0,formatter:function(e,t){var n;return(null===(n=y.find((function(e){return"".concat(e.id)==="".concat(t.locationId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"ip",text:"IP:Port",formatter:function(e,t){var n="http://"+t.ip+(t.port?":".concat(t.port):"");return Object(D.jsx)("a",{target:"_blank",href:n,children:n})}},{dataField:"image",text:"",formatter:function(e,t){var n,r=null===(n=f[t.ip])||void 0===n?void 0:n.isOnline;return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"deviceStatusSection text-center",children:[Object(D.jsx)(Me.a,{url:t.image,width:100,height:50}),r&&Object(D.jsx)(g.Button,{type:"success",icon:"fa-check"}),!r&&Object(D.jsx)(g.Button,{type:"danger",icon:"fa-times"}),Object(D.jsx)("strong",{className:"text-center",style:{color:r?"#0f0":"#f00"},children:r?"Online":"Offline"})]})})}},{dataField:"sysName",text:"Device System Name",width:100,formatter:function(e,t){var n,r=null===(n=f[t.ip])||void 0===n?void 0:n.systemName;try{return atob(r).split(",").join("\n")}catch(a){return"Unknown"}}}],formOptions:{fields:[{id:"ip",name:"ip",label:"IP",type:"text",cols:10,required:!0},{id:"port",name:"port",label:"Port",type:"text",cols:2},{id:"name",name:"name",label:"Device Name",type:"text",required:!0,cols:12},{id:"image",name:"image",label:"Device Icon/Image",type:"upload",required:!0,cols:12},{id:"locationId",name:"locationId",label:"Location",type:"select",required:!0,options:y.map((function(e){return{key:e.id,value:e.title}})),cols:12}],validationSchema:C.a().shape({ip:C.b().required(),name:C.b().required()})}}))})})})})})),Ve=n(120),ze=["title","description"],Ge=function(e){var t=e.title,n=void 0===t?"Manage Devices":t,a=e.description,c=void 0===a?"here you can manage devices directory":a,i=Object(w.a)(e,ze),l=Object(r.useState)([]),u=Object(M.a)(l,2),d=u[0],b=u[1];return Object(r.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,se.getLocationList();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(D.jsx)(g.Content,{title:n,subTitle:c,browserTitle:n,children:Object(D.jsx)(g.Box,{type:"primary",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({},i),{},{entityPlural:"Devices",entitySingle:"Device",resource:"/api/v1/admin/devices",filterComponents:[Object(D.jsx)(Be,{history:i.history,cols:4},"location_filter"),Object(D.jsx)(Ae,{history:i.history},"clearfilter")],onDataUpdated:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve.a.setDevices(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),columns:[{dataField:"id",text:"Device ID",hidden:!0},{dataField:"name",text:"Name",sort:!0},{dataField:"locationId",text:"Location",sort:!0,formatter:function(e,t){var n;return(null===(n=d.find((function(e){return"".concat(e.id)==="".concat(t.locationId)})))||void 0===n?void 0:n.title)||"-"}},{dataField:"ip",text:"IP",sort:!0,formatter:function(e,t){var n="http://"+t.ip+(t.port?":".concat(t.port):"");return Object(D.jsx)("a",{target:"_blank",href:n,children:n})}}],formOptions:{fields:[{id:"ip",name:"ip",label:"IP",type:"text",cols:10,required:!0},{id:"port",name:"port",label:"Port",type:"text",cols:2},{id:"name",name:"name",label:"Device Name",type:"text",cols:12,required:!0},{id:"locationId",name:"locationId",label:"Location",type:"select",required:!0,options:d.map((function(e){return{key:e.id,value:e.title}})),cols:12}],validationSchema:C.a().shape({ip:C.b().required(),name:C.b().required()})}}))})})})})},We=["title","description"],Je=function(e){var t=e.title,n=void 0===t?"Current Users":t,r=e.description,a=void 0===r?"here you can see currently active users":r,c=Object(w.a)(e,We);return Object(D.jsx)(g.Content,{title:n,subTitle:a,browserTitle:"Current Users",children:Object(D.jsx)(g.Box,{type:"success",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({modalSize:"lg",canAdd:!1,canEdit:!1,canDelete:!1},c),{},{entitySingle:"User",entityPlural:"Users",resource:"/api/v1/admin/users/online",columns:[{dataField:"username",text:"Username",sort:!0},{dataField:"status",text:"Status",sort:!0},{dataField:"firstName",text:"Name",sort:!0,formatter:function(e,t){return[t.firstName,t.middleName,t.lastName].filter((function(e){return!!e})).join(" ")}},{dataField:"ip",text:"IP:Port",formatter:function(e,t){return[t.ip,t.port].filter((function(e){return!!e})).join(":")}},{dataField:"lastVisited",text:"Last Visited",formatter:function(e,t){return Object(N.e)(t.lastVisited)}}]}))})})})})},Ye=["title","description"],Ke=function(e){var t=e.title,n=void 0===t?"Database backups":t,r=e.description,a=void 0===r?"here you can see currently active users":r,c=Object(w.a)(e,Ye);return Object(D.jsx)(g.Content,{title:n,subTitle:a,browserTitle:"Database backups (latest 100 backups)",children:Object(D.jsx)(g.Box,{type:"success",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({modalSize:"lg",canAdd:!1,canEdit:!1,canDelete:!1},c),{},{entitySingle:"Backup",entityPlural:"Backups",resource:"/api/v1/admin/db-backups",globalActionButtons:[{text:"Create Backup",icon:"fa-plus",type:"success",onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.createDatabaseBackup();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],columns:[{dataField:"filename",text:"Backup file name"},{dataField:"size",text:"Size",formatter:function(e,t){return Object(N.b)(t.size)}},{dataField:"createdOn",text:"Created",formatter:function(e,t){return Object(N.e)(t.createdOn)}}]}))})})})})},He=(n(530),n(531),n(508)),Xe=n(159),Qe=n(510),Ze=n(255),$e=["label","cols","defaultDaysSelected"],et=function(e){e.label;var t=e.cols,n=void 0===t?12:t,a=e.defaultDaysSelected,c=void 0===a?10:a,i=Object(w.a)(e,$e),o=Object(r.useState)(!1),s=Object(M.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)("Previous ".concat(c," days")),b=Object(M.a)(d,2),f=b[0],j=b[1],p=Object(r.useState)([]),m=Object(M.a)(p,2),O=m[0],h=m[1],v=function(){var e=new Date,t=Object(He.default)(new Date,c),n=B(i.history,"start",null),r=B(i.history,"end",null);n&&r||j("Previous ".concat(c," days")),n=Object(Xe.default)(n)?Object(N.a)(n):e,r=Object(Xe.default)(r)?Object(N.a)(r):t,h([{startDate:n,endDate:r,key:"selection"}])};return Object(r.useEffect)((function(){return v(),i.history.listen((function(){v()}))}),[]),Object(r.useEffect)((function(){document.onclick=function(e){var t=document.querySelector(".datePickerComponent-active");t&&!t.contains(e.target)&&u(!1)}}),[]),Object(D.jsxs)("div",{className:"datePickerComponent".concat(l?"-active":""," col-md-").concat(n),children:[Object(D.jsx)(g.Button,{disabled:!0,text:"Showing results from ".concat(f)}),Object(D.jsx)(g.Button,{type:"success",onClick:function(){return u(!0)},icon:"fa-calendar",text:"Filter by Date"}),Object(D.jsxs)("div",{className:"datePicketContainer ".concat(l?"":"hidden"),children:[O.length>0&&Object(D.jsx)(Ze.DateRange,{minDate:Object(Qe.default)(new Date,1),maxDate:new Date,onChange:function(e){h([e.selection]);var t=e.selection,n=t.startDate,r=t.endDate;n&&r&&j("".concat(Object(N.c)(n)," to ").concat(Object(N.c)(r)))},showSelectionPreview:!1,moveRangeOnFirstSelection:!1,ranges:O}),Object(D.jsx)(g.Button,{onClick:function(){u(!1),L(i.history,{start:Object(N.c)(O[0].startDate),end:Object(N.c)(O[0].endDate)})},className:"filterByDates",type:"success",text:"Filter results"})]})]})},tt=["title","description"],nt=function(e){var t=e.title,n=void 0===t?"Reports":t,r=e.description,a=void 0===r?"here you can see various activity by users":r,c=Object(w.a)(e,tt);return Object(D.jsx)(g.Content,{title:n,subTitle:a,browserTitle:"Reports",children:Object(D.jsx)(g.Box,{type:"success",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({modalSize:"lg",canAdd:!1,canEdit:!1,canDelete:!1},c),{},{filterComponents:[Object(D.jsx)(et,{history:c.history,cols:5},"date_filter"),Object(D.jsx)(Be,{history:c.history,cols:4},"location_filter"),Object(D.jsx)(Ae,{history:c.history,cols:2},"clear_filter")],entitySingle:"Report",entityPlural:"Reports",resource:"/api/v1/admin/reports",columns:[{dataField:"entity",text:"Entity",sort:!0,formatter:function(e,t){return Object(D.jsx)("strong",{children:"".concat(t.entity).toUpperCase()})}},{dataField:"entityAction",text:"Action",sort:!0,formatter:function(e,t){return t.entityAction.split("_").join(" ")}},{dataField:"modifiedById",text:"Action Taken By",sort:!0,formatter:function(e,t){return"".concat(t.modifiedByName," - ").concat(t.modifiedByUserName||"unknown")}},{dataField:"userLocationId",text:"User Location",sort:!0,formatter:function(e,t){return t.locationTitle}},{dataField:"additionalInfo",text:"Log",sort:!1,formatter:function(e,t){return"".concat(t.additionalInfo)}},{dataField:"createdAt",text:"Action Performed on",sort:!0,formatter:function(e,t){return"".concat(Object(N.e)(t.createdAt))}}],globalActionButtons:[{text:"Export filtered Records",icon:"fa-download",type:"success",onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{text:"Export All Records",icon:"fa-download",type:"success",onClick:function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}))})})})})},rt=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.get("/api/v1/admin/settings");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.put("/api/v1/admin/settings",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct={getWebsiteSettings:rt,saveWebsiteSetting:at},it=["title","description","triggerGetSettings"],ot=Object(l.b)(null,(function(e){return{triggerGetSettings:function(){var t=Object(s.a)(Object(o.a)().mark((function t(){var n;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct.getWebsiteSettings();case 2:(null===(n=t.sent)||void 0===n?void 0:n.success)&&e(le.a.setWebsiteSettings(n.data));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}))((function(e){var t=e.title,n=void 0===t?"Configurations":t,a=e.description,c=void 0===a?"here you can manage configurations":a,i=e.triggerGetSettings,o=Object(w.a)(e,it),s=Object(r.useState)([]),l=Object(M.a)(s,2),u=l[0],d=l[1],b=Object(r.useState)(null),f=Object(M.a)(b,2),j=f[0],p=f[1],m=Object(r.useMemo)((function(){return j?u.filter((function(e){return e.id===j.id})):[]}),[j,u]);return Object(D.jsx)(g.Content,{title:n,subTitle:c,browserTitle:"Manage Configuration",children:Object(D.jsx)(g.Box,{type:"primary",title:"",icon:"fa-cogx",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({},o),{},{hideIdOnEdit:!0,entityPlural:"Configurations",entitySingle:"Configuration",canAdd:!1,canEdit:!0,canDelete:!1,resource:"/api/v1/admin/settings",onFormShow:function(e){p(e)},onDataUpdated:function(e){i(),d(e.results)},columns:[{dataField:"label",text:"Setting Name",sort:!1},{dataField:"value",text:"Setting Value",sort:!1,formatter:function(e,t){return"upload"===t.type?Object(D.jsx)(Me.a,{border:!1,width:50,height:50,url:t.value}):t.value}}],formOptions:{fields:m}}))})})})})})),st=["title","description"],lt=[F.p.EMAIL_SALES,F.p.LANDLINE_SALES,F.p.LANDLINE_SUPPORT,F.p.EMAIL_SUPPORT],ut=function(e){var t=e.title,n=void 0===t?"Contact Us":t,a=e.description,c=void 0===a?"contact information":a,i=(Object(w.a)(e,st),Object(r.useState)([])),l=Object(M.a)(i,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){Object(s.a)(Object(o.a)().mark((function e(){var t,n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.getWebsiteSettings();case 2:null!==(n=e.sent)&&void 0!==n&&n.success&&null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.results&&(r=(n.data.results||[]).filter((function(e){return lt.includes(e.name)})),d(r));case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(D.jsx)(g.Content,{title:n,subTitle:c,browserTitle:"Contact us",children:Object(D.jsx)(g.Box,{type:"success",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)("table",{className:"table table-bordred table-striped",children:Object(D.jsx)("tbody",{children:u.map((function(e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:e.label}),Object(D.jsx)("td",{children:e.value||e.default})]})}))})})})})})})},dt=n(65),bt=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n,r=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:function(e){},e.next=3,se.getNotifications();case 3:return n=e.sent,e.abrupt("return",null!==n&&void 0!==n&&n.success?t(n.data):[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=Object(l.b)((function(e){var t;return{currentUser:(null===(t=e.globalState)||void 0===t?void 0:t.currentUser)||null}}),null)((function(e){var t=e.currentUser,n=Object(r.useState)([]),a=Object(M.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){bt(i)}),[t]),Object(r.useEffect)((function(){var e=setInterval((function(){return bt(i)}),2e3);return function(){return clearInterval(e)}}),[t]),!c||c.length<1||!t||null===t||void 0===t||!t.id?Object(D.jsx)(D.Fragment,{}):Object(D.jsx)("div",{className:"notification-alert-box",children:c.length>0&&c.map((function(e){return Object(D.jsx)(g.Alert,{title:e.message,icon:"fa-bell",style:{borderRadius:"0 !important"},type:e.type,children:Object(D.jsx)("a",{className:"visit",href:e.path,title:"View details",children:"View details"})},e.message)}))})})),jt=["title","description"],pt=function(e){var t=e.title,n=void 0===t?"Dormant/Inactive Users":t,r=e.description,a=void 0===r?"here you can see users those haven't logged in from 30 or more days":r,c=Object(w.a)(e,jt);return Object(D.jsx)(g.Content,{title:n,subTitle:a,browserTitle:n,children:Object(D.jsx)(g.Box,{type:"success",children:Object(D.jsx)(g.Row,{children:Object(D.jsx)(g.Col,{md:12,children:Object(D.jsx)(fe,Object(R.a)(Object(R.a)({modalSize:"lg",canAdd:!1,canEdit:!1,canDelete:!1},c),{},{entitySingle:"User",entityPlural:"Users",resource:"/api/v1/admin/users/dormant",columns:[{dataField:"username",text:"Username",sort:!0},{dataField:"status",text:"Status",sort:!0},{dataField:"firstName",text:"Name",sort:!0,formatter:function(e,t){return[t.firstName,t.middleName,t.lastName].filter((function(e){return!!e})).join(" ")}},{dataField:"ip",text:"IP:Port",formatter:function(e,t){return[t.ip,t.port].filter((function(e){return!!e})).join(":")}},{dataField:"lastVisited",text:"Last Visited",formatter:function(e,t){return Object(N.e)(t.lastVisited)}}]}))})})})})},mt=g.Navbar.Entry,Ot=function(){var e="\xa9\ufe0f ".concat(Object(dt.default)(new Date,"yyyy")," MCIL. All Rights Reserved.");return Object(D.jsx)("div",{className:"text-center",style:{color:"#444",padding:"15px 0",margin:0,marginLeft:200,background:"#eee",borderTop:"solid 1px #ccc"},children:Object(D.jsx)("p",{children:Object(D.jsx)("strong",{children:e})})})},ht=Object(l.b)((function(e){var t,n,r;return{currentUser:(null===(t=e.globalState)||void 0===t?void 0:t.currentUser)||null,settings:(null===(n=e.globalState)||void 0===n?void 0:n.settings)||null,notifications:(null===(r=e.globalState)||void 0===r?void 0:r.notifications)||[]}}),(function(e){return{triggerLogin:function(){var t=Object(s.a)(Object(o.a)().mark((function t(n,r){var a,c,i;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.username,c=n.password,t.next=3,x.loginUser(a,c);case 3:return(null===(i=t.sent)||void 0===i?void 0:i.success)&&e(le.a.setUserState(i.data)),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),triggerGetCurrentUser:function(){var t=Object(s.a)(Object(o.a)().mark((function t(){var n,r;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getCurrentUser();case 2:if((null===(n=t.sent)||void 0===n?void 0:n.success)&&e(le.a.setCurrentUser(n.data)),null===n||void 0===n||!n.success){t.next=9;break}return t.next=7,ct.getWebsiteSettings();case 7:(null===(r=t.sent)||void 0===r?void 0:r.success)&&e(le.a.setWebsiteSettings(r.data));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),triggerFetchNotifications:function(){var t=Object(s.a)(Object(o.a)().mark((function t(n){var r,a;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,se.getNotifications();case 4:(null===(a=t.sent)||void 0===a?void 0:a.success)&&e(le.a.setNotifications(null!==(r=a.data)&&void 0!==r?r:[]));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){var t=e.triggerLogin,n=e.triggerGetCurrentUser,c=e.currentUser;return Object(r.useEffect)((function(){n()}),[]),!!c?Object(D.jsxs)(a.a.Fragment,{children:[Object(D.jsx)(ft,{currentUser:c}),Object(D.jsx)(Fe,{}),Object(D.jsxs)(y.a,{footer:Object(D.jsx)(Ot,{}),theme:"black",title:[],children:[Object(D.jsx)(g.Navbar.Core,{children:Object(D.jsx)(mt,{to:F.i,labelValue:"Logout",icon:"fa-power-off",labelType:"danger",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login";T.a.delete(F.d),window.location=e}()}})}),Object(D.jsxs)(g.Sidebar.Core,{children:[Object(D.jsx)("a",{className:"logo",href:"/",children:Object(D.jsx)("img",{src:"/dp_logo.png",style:{width:"100%",padding:"30px 50px",height:"inherit",background:"#fff"}})}),F.j.map((function(e,t){var n,r;return e.items&&e.items.length>0?Object(D.jsx)(g.Sidebar.Item,{onClick:e.onClick,icon:e.icon,text:e.title,to:e.path,color:null!==(r=e.color)&&void 0!==r?r:"gray",children:(e.items||[]).map((function(e,n){var r;return Object(D.jsx)(g.Sidebar.Item,{onClick:e.onClick,icon:e.icon,text:e.title,to:e.path,color:null!==(r=e.color)&&void 0!==r?r:"gray"},"".concat(t,"-child-").concat(n))}))},t):Object(D.jsx)(g.Sidebar.Item,{onClick:e.onClick,icon:e.icon,text:e.title,to:e.path,color:null!==(n=e.color)&&void 0!==n?n:"gray"},"".concat(t))})),Object(D.jsx)("div",{className:"userLoggedInInfo",text:"Admin",children:Object(D.jsxs)("p",{children:[Object(N.d)(c),Object(D.jsx)("br",{}),Object(D.jsx)("span",{children:Object(N.e)(c.lastLogin,"dd-MM-yyyy hh:mm a")})]})})]}),Object(D.jsx)(pe,{currentUser:c,path:F.b,exact:!0}),Object(D.jsx)(xe,{currentUser:c,path:F.h,exact:!0}),Object(D.jsx)(we,{currentUser:c,path:F.m,exact:!0}),Object(D.jsx)(Pe,{currentUser:c,path:F.n,exact:!0}),Object(D.jsx)(Ee,{currentUser:c,path:F.s,exact:!0}),Object(D.jsx)(Re,{currentUser:c,path:F.e,exact:!0}),Object(D.jsx)(_e,{currentUser:c,path:F.k,exact:!0}),Object(D.jsx)(Ge,{currentUser:c,path:F.f,exact:!0}),Object(D.jsx)(Je,{currentUser:c,path:F.l,exact:!0}),Object(D.jsx)(pt,{currentUser:c,path:F.g,exact:!0}),Object(D.jsx)(Ke,{currentUser:c,path:F.a,exact:!0}),Object(D.jsx)(nt,{currentUser:c,path:F.o,exact:!0}),Object(D.jsx)(ot,{currentUser:c,path:F.q,exact:!0}),Object(D.jsx)(ut,{currentUser:c,path:F.c,exact:!0})]})]}):Object(D.jsxs)(U.a,{children:[Object(D.jsx)(Fe,{}),Object(D.jsx)(E,{triggerLogin:t})]})})),vt=n(67);n(544),n(225),n(545);i.a.render(Object(D.jsx)(l.a,{store:vt.a,children:Object(D.jsx)(a.a.Fragment,{children:Object(D.jsx)(ht,{})})}),document.getElementById("root"))},60:function(e,t,n){"use strict";var r={store:function(e,t){e&&t&&window.localStorage.setItem(e,JSON.stringify(t))},get:function(e){if(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return t||null}}},delete:function(e){e&&localStorage.removeItem(e)}};t.a=r},67:function(e,t,n){"use strict";var r=n(24),a=n(89),c=n(8),i=Object(r.b)({name:"registrationSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1}},reducers:{setRegistrations:function(e,t){var n=t.payload;e.listData=Object(c.a)({},n)}}}),o=i.reducer,s=(i.actions,n(116)),l=n(117),u=n(118),d=n(28),b=n(119),f=n(120),j=Object(r.b)({name:"userSlice",initialState:{listData:{results:[],currentPage:1,totalResults:0,totalPages:1}},reducers:{setUsers:function(e,t){var n=t.payload;e.listData=Object(c.a)({},n)}}}),p=j.reducer;j.actions,t.a=Object(r.a)({reducer:{globalState:d.b,rankState:s.b,branchState:l.b,locationState:u.b,registrationState:o,nmsState:b.b,deviceState:f.b,userState:p},middleware:[a.a]})},75:function(e,t,n){"use strict";n(0);var r=n(1);t.a=function(e){var t=e.url,n=void 0===t?null:t,a=e.width,c=void 0===a?120:a,i=e.height,o=void 0===i?120:i,s=e.border,l=void 0===s?1:s,u=e.borderColor,d=void 0===u?"grey":u,b=e.onClick,f=void 0===b?function(){}:b;return Object(r.jsx)("div",{onClick:f,style:{width:c,height:o,backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",border:"solid ".concat(l||1,"px ").concat(d),cursor:"pointer"},className:"img-thumbnail m-2"})}},88:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(7),c=n(38),i=n(0),o=n(250),s=n.n(o),l=n(251),u=n.n(l),d=n(75),b=n(65),f=n(5),j=n(30),p=n(16),m=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,p.default.post("/api/v1/admin/uploads",n);case 4:return a=e.sent,c=null!==a&&void 0!==a&&a.success?a.data:null,e.abrupt("return",c?"/api/v1/uploads/".concat(c):null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.get("/api/v1/admin/uploads");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.delete("/api/v1/admin/uploads/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={uploadFile:m,getUploadedFiles:O,deleteFile:h},x=(n(225),n(10)),g=n(18),y=n(1),w=Object(i.forwardRef)((function(e,t){var n=e.onClick,r=e.originalValue;return Object(y.jsxs)(f.ButtonGroup,{children:[Object(y.jsx)(f.Button,{className:"ps-2 pe-2",disabled:!0,text:r||"YYYY-MM-DD"}),Object(y.jsx)(f.Button,{onClick:n,icon:"fa-calendar"})]})})),k=function(e){var t=e.field,n=void 0===t?{}:t,r=e.errors,a=void 0===r?{}:r,c=e.touched,i=void 0===c?{}:c,o=e.children,s=void 0===o?null:o,l=e.formErrors,u=void 0===l?{}:l,d=a[n.name]&&i[n.name]||a[n.name]&&"richtext"===n.type||u[n.name];return Object(y.jsx)(f.Col,{className:"mb-2 field-row col-md-".concat(n.cols),children:Object(y.jsxs)("div",{style:{marginBottom:10},className:"form-group ".concat(d?"has-error":""),children:[!(null!==n&&void 0!==n&&n.hideLabel)&&Object(y.jsxs)("label",{htmlFor:n.id,className:"form-label",children:[n.label," ",n.required&&Object(y.jsx)("sup",{className:"text-red",children:"*"})]}),Object(y.jsx)("div",{children:s})]})},n.id)};t.default=function(e){var t=e.id,n=void 0===t?"":t,i=e.action,o=void 0===i?"":i,l=e.method,p=void 0===l?"POST":l,m=e.disabled,O=void 0!==m&&m,h=e.initialValues,S=void 0===h?{}:h,N=e.validationSchema,C=void 0===N?null:N,D=e.fields,P=void 0===D?[]:D,I=e.onSubmit,E=void 0===I?function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}():I,U=e.editMode,R=void 0!==U&&U,F=e.entitySingle,T=void 0===F?"record":F,L=e.submitTitle,B=void 0===L?null:L,A=e.formErrors,M=void 0===A?{}:A,q=e.hideSubmit,_=void 0!==q&&q;return!S||P.length<1?Object(y.jsx)(y.Fragment,{}):Object(y.jsx)(f.Row,{children:Object(y.jsx)(f.Col,{md:12,children:Object(y.jsx)(c.c,{initialValues:S,enableReinitialize:!0,onSubmit:function(e,t){var n={};Object.keys(S).forEach((function(t){(e[t]!==S[t]&&void 0!==e[t]||"id"==="".concat(t))&&(n[t]=e[t])})),E(n,t)},validationSchema:C,children:function(e){var t=e.errors,i=e.touched,l=e.values,m=e.setFieldValue;return Object(y.jsxs)(c.b,{action:o,id:n||Date.now(),method:p,disabled:O,children:[Object.keys(M).length>0&&Object(y.jsx)(f.Row,{children:Object(y.jsx)(f.Col,{className:"col-lg-12 col-md-12",children:Object(y.jsxs)(f.Alert,{type:"danger",children:[Object(y.jsx)("h4",{children:Object(y.jsx)("strong",{children:"Please note:"})}),Object.keys(M).map((function(e){if("global"===e)return Object(y.jsx)(y.Fragment,{});var t=x.w[e]?x.w[e]:e.replace("Id","");return Object(y.jsxs)("div",{children:[Object(y.jsx)("strong",{children:Object(g.f)(t)})," - ",M[e]]},e)}))]})})}),Object(y.jsx)(f.Row,{children:P.map((function(e){switch(e.type){case"fieldset":return Object(y.jsx)("h3",{className:"display-6 fs-6 pt-2 pb-2 fw-bold bg-secondary text-white",children:null===e||void 0===e?void 0:e.title});case"select":var n=function(e){if(Array.isArray(e))return e;var t=[];return Object.keys((function(n){t.push({key:n,value:e[n]})})),t}((null===e||void 0===e?void 0:e.options)||[]);return Object(y.jsx)(k,{field:e,errors:t,touched:i,formErrors:M,children:Object(y.jsxs)(c.a,{as:"select",className:t[e.name]&&i[e.name]?"form-select rounded-0 is-invalid shadow-none form-control":"form-select form-control",placeholder:e.placeholder||e.label,name:e.name,id:e.id,onChange:function(t){e.onChange&&e.onChange(t),m(e.name,t.nativeEvent.target.value)},children:[Object(y.jsxs)("option",{value:"",children:["Choose ",e.placeholder||e.label]}),n.map((function(e){return Object(y.jsx)("option",{value:e.key,children:e.value},"".concat(e.key,"-").concat(T))}))]})},"field-".concat(e.id,"-").concat(T));case"textarea":return Object(y.jsx)(k,{field:e,errors:t,touched:i,formErrors:M,children:Object(y.jsx)(c.a,{as:"textarea",className:t[e.name]&&i[e.name]?"form-control shadow-none is-invalid":"form-control shadow-none",placeholder:e.placeholder||e.label,name:e.name,id:e.id,onChange:function(t){e.onChange&&e.onChange(t),m(e.name,t.nativeEvent.target.value)}})},"field-".concat(e.id));case"checkbox_group":var o=function(t){var n=new Set(l[e.name].length>0?l[e.name]:[]);t.target.checked?n.add(parseInt(t.target.value)):n.delete(parseInt(t.target.value)),m(e.name,Array.from(n))};return Object(y.jsx)(k,{field:e,errors:t,touched:i,formErrors:M,children:Object(y.jsx)("div",{className:"p-3 ps-3",style:{height:"".concat(e.height||150,"px"),backgroundColor:"",border:"solid 1px #eee",overflow:"auto"},children:e.options.map((function(n){return Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)("input",{type:"checkbox",className:t[e.name]&&i[e.name]?"form-check-input shadow-none is-invalid":"form-check-input shadow-none",name:"".concat(e.name),checked:l[e.name].includes(n.key),id:"".concat(e.id,"-").concat(n.key),value:n.key,onChange:o}),Object(y.jsx)("label",{className:"form-check-label",htmlFor:"".concat(e.id,"-").concat(n.key),children:n.value})]},n.key)}))})},"field-".concat(e.id));case"richtext":return Object(y.jsx)(k,{field:e,errors:t,touched:i,formErrors:M,children:Object(y.jsx)(s.a,{theme:"snow",value:l[e.name],onChange:function(t){return m(e.name,t)}})},"field-".concat(e.id));case"date":return Object(y.jsx)(k,{field:e,errors:t,touched:i,formErrors:M,children:Object(y.jsx)(u.a,{showIcon:!0,name:e.name,className:"d-flex",onChange:function(t){e.onChange&&e.onChange(t),m(e.name,Object(b.default)(t,"yyyy-MM-dd"))},customInput:Object(y.jsx)(w,{originalValue:l[e.name]})})},"field-".concat(e.id));case"upload":return Object(y.jsxs)(k,{field:e,errors:t,touched:i,formErrors:M,children:[Object(y.jsx)("input",{onChange:function(){var t=Object(a.a)(Object(r.a)().mark((function t(n){var a,c,i,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null===(a=n.nativeEvent)||void 0===a||null===(c=a.target)||void 0===c?void 0:c.files[0]){t.next=4;break}return Object(j.b)({success:!1,message:"You've choosen any file"}),t.abrupt("return");case 4:return t.next=6,v.uploadFile(i);case 6:if(o=t.sent){t.next=10;break}return Object(j.b)({success:!1,message:"Unable to upload file, contact server admin."}),t.abrupt("return");case 10:m(e.name,"".concat(o));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),id:"fileinputRef",accept:"image/*",type:"file",name:"file",style:{opacity:0,position:"absolute",left:-9999,top:-100}}),Object(y.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-start",children:[Object(y.jsx)(d.a,{url:l[e.name]||l[e.default]},"no-selection"),Object(y.jsx)(f.Button,{onClick:function(){document.getElementById("fileinputRef").click()},icon:"fa-edit"})]})]},"field-".concat(e.id));case"hidden":return Object(y.jsx)(c.a,{autoComplete:"off",name:e.name,type:"hidden",id:e.id},"field-".concat(e.id));case"radio_group":return Object(y.jsx)("div",{className:"checkboxGroup",children:Object(y.jsx)(k,{field:e,errors:t,touched:i,formErrors:M,children:e.options.map((function(n){return Object(y.jsxs)("div",{className:"form-check",children:[Object(y.jsx)("input",{type:"radio",className:t[e.name]&&i[e.name]?"form-check-input shadow-none is-invalid":"form-check-input shadow-none",name:"".concat(e.name),checked:l[e.name].includes(n.key),id:"".concat(e.id,"-").concat(n.key),value:n.key,onChange:function(t){return m(e.name,t.target.value)}}),Object(y.jsx)("label",{className:"form-check-label ml-2",htmlFor:"".concat(e.id,"-").concat(n.key),children:n.value})]},n.key)}))},"field-".concat(e.id))});default:return Object(y.jsx)(k,{field:e,errors:t,touched:i,formErrors:M,children:Object(y.jsx)(c.a,{autoComplete:"off",className:t[e.name]&&i[e.name]?"form-control rounded-0 shadow-none is-invalid":"form-control rounded-0 shadow-none",placeholder:e.placeholder||e.label,name:e.name,type:e.type,id:e.id,onChange:function(t){e.onChange&&e.onChange(t),m(e.name,t.nativeEvent.target.value)}})},"field-".concat(e.id))}}))}),!_&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"d-flex flex-row-reverse text-right",children:Object(y.jsxs)("button",{disabled:O,onClick:function(){return window.scrollTo(0,0)},type:"success",className:"btn rounded-0  btn-primary",children:[B&&Object(y.jsx)("span",{children:B}),!B&&Object(y.jsxs)("span",{children:[R?"Update":"Create"," ",T]})]})})]})]})}})})})}}},[[547,1,2]]]);
//# sourceMappingURL=main.8d39d66a.chunk.js.map